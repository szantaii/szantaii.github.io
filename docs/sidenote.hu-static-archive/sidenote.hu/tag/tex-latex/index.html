<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <title>
            TeX/LaTeX / sidenote
        </title>
        <link rel="shortcut icon" href="../../wp-content/themes/sidenoteminimal/images/favicon.ico" type="image/x-icon">
        <link rel="stylesheet" type="text/css" media="all" href="../../wp-content/themes/sidenoteminimal/style.css">
        <link rel="stylesheet" type="text/css" media="all" href="../../wp-content/themes/sidenoteminimal/pagenavi-css.css">
        <link rel="stylesheet" id="codecolorer-css" href="../../wp-content/plugins/codecolorer/codecolorer.css%3Fver=0.9.11.css" type="text/css" media="screen">
    </head>
    <body>
        <div class="wrapper">
            <div class="header clear">
                <div class="logo">
                    <a title="http://sidenote.hu/" href="../../index.html">http://sidenote.hu/</a>
                </div>
                <h1>
                    <a title="sidenote" href="../../index.html">sidenote</a>
                </h1>
                <div class="menu">
                    <ul id="menu-header" class="menu">
                        <li id="menu-item-4317" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-4317">
                            <a title="Címlap" href="../../index.html">Címlap</a>
                        </li>
                        <li id="menu-item-7810" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7810">
                            <a title="Projektek" href="../../index.html%3Fp=7396.html">Projektek</a>
                        </li>
                        <li id="menu-item-4319" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4319">
                            <a title="Rólunk" href="../../index.html%3Fp=1345.html">Rólunk</a>
                        </li>
                        <li id="menu-item-4318" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4318">
                            <a title="Archívum" href="../../index.html%3Fp=284.html">Archívum</a>
                        </li>
                    </ul>
                </div>
                <div class="search">
                    <form id="searchform" name="searchform">
                        <fieldset disabled>
                            <input type="text" value="Keresés" disabled>
                        </fieldset>
                    </form>
                </div>
            </div>
            <div class="middle clear">
                <div id="content">
                    <div class="archive_title clear">
                        <div class="archive_title_meta">
                            Archívum
                        </div>
                        <div class="archive_title_name">
                            A(z) „TeX/LaTeX” címke bejegyzései
                        </div>
                    </div>
                    <div class="clear post-8651 post type-post status-publish format-standard hentry category-alkotunk category-ismeretterjeszto tag-tex-latex tag-tipografia" id="post_8651">
                        <div class="post_meta">
                            <h2>
                                <a href="../../index.html%3Fp=8651.html" title="a nap német szava" rel="bookmark">a nap német szava</a>
                            </h2>
                            <div class="post_data">
                                <div class="post_author">
                                    Írta: <a href="../../index.html" title="szantaii honlapjának megtekintése" rel="author external">szantaii</a>
                                </div>
                                <div class="post_date">
                                    2014. október 6. 18:33
                                </div>
                                <div class="post_categories">
                                    <a href="../../category/alkotunk/index.html" rel="category tag">alkotunk</a>, <a href="../../category/ismeretterjeszto/index.html" rel="category tag">ismeretterjesztő</a>
                                </div>
                            </div>
                        </div>
                        <div class="post_content">
                            <p>
                                Múlt héten keresett meg egy kedves barátom, <a href="https://demtagseindeutscheswort.tumblr.com/" title="a nap német szava">a nap német szava</a> blog szerzője, hogy egy darabig leáll a blog írásával, de szeretné, ha a bejegyzések PDF-ben is elérhetők lennének.
                            </p>
                            <p>
                                Hát összeálltunk. Ő fogta és lementette az összes posztot. Nagyjából<sup>*</sup> arra a formára hozta az anyagot, amiben előre megegyeztünk. Én írtam egy parsert LuaTeX-ben. És megszületett a PDF változat.
                            </p>
                            <p>
                                Ha hibát találtok benne, kérlek jelezzétek!
                            </p>
                            <p>
                                Az amúgy is zseniális blog bejegyzései mostantól A5-ös méretben, nyomtatásra optimalizáltan<sup>**</sup> elérhetők:
                            </p>
                            <ul>
                                <li>
                                    <a href="https://demtagseindeutscheswort.tumblr.com/post/99297621390/skacok-itt-az-archivum-egy-etvagygerjesztoen" title="a nap német szava — Skacok, itt az archívum egy étvágygerjesztően…">a nap német szava — Skacok, itt az archívum egy étvágygerjesztően…</a>
                                </li>
                            </ul>
                            <p>
                                <img src="../../wp-content/uploads/2014/10/anapnemetszava.png" alt="a nap német szava" width="640" height="909" class="alignnone size-full wp-image-8654" srcset="../../wp-content/uploads/2014/10/anapnemetszava.png 640w, ../../wp-content/uploads/2014/10/anapnemetszava-225x319.png 225w, ../../wp-content/uploads/2014/10/anapnemetszava-350x497.png 350w" sizes="(max-width: 640px) 100vw, 640px">
                            </p>
                            <p>
                                <sup>* </sup>Azért benne hagyott közel kétszáz helytelen idézőjelet, és húsz-harminc rosszul tördelt sort, de sebaj, csak két órát basztam el a kijavításukkal.
                            </p>
                            <p>
                                <sup>** </sup>Már ha ki fogsz nyomtatni több, mint hétszáz oldalt. Amúgy képernyőn is jól néz ki.
                            </p>
                            <div class="post_tags clear">
                                <ul>
                                    <li>
                                        <a href="index.html" rel="tag">TeX/LaTeX</a>
                                    </li>
                                    <li>
                                        <a href="../tipografia/index.html" rel="tag">tipográfia</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="clear post-8638 post type-post status-publish format-standard hentry category-alkotunk category-animacio category-muveszet-dizajn category-szoftver tag-tex-latex tag-tipografia" id="post_8638">
                        <div class="post_meta">
                            <h2>
                                <a href="../../index.html%3Fp=8638.html" title="Another font outline animation experiment" rel="bookmark">Another font outline animation experiment</a>
                            </h2>
                            <div class="post_data">
                                <div class="post_author">
                                    Írta: <a href="../../index.html" title="szantaii honlapjának megtekintése" rel="author external">szantaii</a>
                                </div>
                                <div class="post_date">
                                    2014. szeptember 28. 18:29
                                </div>
                                <div class="post_categories">
                                    <a href="../../category/alkotunk/index.html" rel="category tag">alkotunk</a>, <a href="../../category/animacio/index.html" rel="category tag">animáció</a>, <a href="../../category/muveszet-dizajn/index.html" rel="category tag">művészet, dizájn</a>, <a href="../../category/szoftver/index.html" rel="category tag">szoftver</a>
                                </div>
                            </div>
                        </div>
                        <div class="post_content">
                            <p>
                                <img src="../../wp-content/uploads/2014/09/another_font_outline_animation_experiment.gif" alt="Another font outline animation experiment" width="700" height="700" class="alignnone size-full wp-image-8639">
                            </p>
                            <p>
                                In this animation was created using LuaTeX, TikZ, and the glyph “a” from the <a href="https://libertine-fonts.org/" title="LinuxLibertine.org | Public domain Fonts: Biolinum and Libertine">Linux Libertine</a> font.
                            </p>
                            <p>
                                The process which this animation resulted in was the following:
                            </p>
                            <ol>
                                <li>
                                    <a href="../../index.html%3Fp=8617.html" title="Experimenting with font outlines / sidenote">Converted the font to SVG</a> to use the path of the glyph.
                                </li>
                                <li>Split the path into the inner and outer outlines.
                                </li>
                                <li>Draw the two separate lines with (different) dashed patterns.
                                </li>
                                <li>Set increasing offset for the dashed patterns for each frame.
                                </li>
                                <li>Rasterize and create GIF using <a href="https://www.gimp.org/" title="GIMP - The GNU Image Manipulation Program">GIMP</a>.
                                </li>
                            </ol>
                            <p>
                                Sorry, no source code this time.
                            </p>
                            <div class="post_tags clear">
                                <ul>
                                    <li>
                                        <a href="index.html" rel="tag">TeX/LaTeX</a>
                                    </li>
                                    <li>
                                        <a href="../tipografia/index.html" rel="tag">tipográfia</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="clear post-8617 post type-post status-publish format-standard hentry category-alkotunk category-animacio category-muveszet-dizajn category-szoftver tag-tex-latex tag-tipografia tag-video" id="post_8617">
                        <div class="post_meta">
                            <h2>
                                <a href="../../index.html%3Fp=8617.html" title="Experimenting with font outlines" rel="bookmark">Experimenting with font outlines</a>
                            </h2>
                            <div class="post_data">
                                <div class="post_author">
                                    Írta: <a href="../../index.html" title="szantaii honlapjának megtekintése" rel="author external">szantaii</a>
                                </div>
                                <div class="post_date">
                                    2014. szeptember 15. 18:23
                                </div>
                                <div class="post_categories">
                                    <a href="../../category/alkotunk/index.html" rel="category tag">alkotunk</a>, <a href="../../category/animacio/index.html" rel="category tag">animáció</a>, <a href="../../category/muveszet-dizajn/index.html" rel="category tag">művészet, dizájn</a>, <a href="../../category/szoftver/index.html" rel="category tag">szoftver</a>
                                </div>
                            </div>
                        </div>
                        <div class="post_content">
                            <p>
                                In <a href="../../index.html%3Fp=8571.html" title="Font outline animation / sidenote">one of my latest posts</a> I mentioned a question about <a href="https://tex.stackexchange.com/q/161920" title="typography - Randomized drawing of individual glyphs - TeX - LaTeX Stack Exchange">how to draw individual glyphs with randomized paths</a> on <a href="https://tex.stackexchange.com/" title="TeX - LaTeX Stack Exchange">TeX.SX</a>. Today I want to share <a href="https://tex.stackexchange.com/a/197677" title="typography - Randomized drawing of individual glyphs - TeX - LaTeX Stack Exchange">the answer I posted</a> about two weeks ago, and some related stuff which I’ve made during and after working on the answer.
                            </p>
                            <p>
                                Let’s see the question first. It is quoting Donald Knuth’s article, <a href="https://projecteuclid.org/journals/bulletin-of-the-american-mathematical-society-new-series/volume-1/issue-2/Mathematical-typography/bams/1183544082.full" title="Knuth: Mathematical typography">Mathematical typography</a> from the Bulletin of the American Mathematical Society.
                            </p>
                            <blockquote>
                                <p>
                                    <img src="../../wp-content/uploads/2014/09/knuth_math_typo_fig21.png" alt="Knuth: Mathematical typography, Figure 21" width="510" height="459" class="alignnone size-full wp-image-8625" srcset="../../wp-content/uploads/2014/09/knuth_math_typo_fig21.png 510w, ../../wp-content/uploads/2014/09/knuth_math_typo_fig21-225x202.png 225w, ../../wp-content/uploads/2014/09/knuth_math_typo_fig21-350x315.png 350w" sizes="(max-width: 510px) 100vw, 510px">
                                </p>
                                <p>
                                    <strong>Randomization.</strong> I’d like to report on a little experiment I did with random numbers. One might complain that the letters I have designed are too perfect, too much like a computer, so they lack “character”. In order to counteract this, we can build a certain amount of randomness into the choices of where to put the pen when drawing each letter, and Figure 21 shows what happens. The coordinates of the key pen positions where chosen independently with a normal distribution and with increasing standard deviation, so that the third example has twice as much standard deviation as the second, the fourth has three times as much, and so on. Note that the two m’s on each line (except the first) are different, and so are the a’s and the t’s, since each letter is drawn randomly.
                                </p>
                            </blockquote>
                            <p>
                                The question was how to achieve a similar effect in LaTeX without using MetaFont. You can read the answer below, but if you feel tl;dr skip below the long quote for my related works.
                            </p>
                            <blockquote>
                                <p>
                                    I have been thinking about this question for weeks now, and finally I think I came really close to a result you may also like. I have even tried to use Processing to solve this problem, which resulted in a nice animation as a byproduct, but it didn’t lead me closer to the solution. But back to the point…
                                </p>
                                <p>
                                    Unfortunately the solution I’m posting, which is my best and only shot, does not support drawing the distorted glyphs as text but as drawings. Also there is some work to be done outside the context of LaTeX, but most of it is done in LaTeX (LuaTeX + TikZ).
                                </p>
                                <p>
                                    <img src="../../wp-content/uploads/2014/09/texsx_distortion_ans.png" alt="Randomized drawing of individual glyphs" width="629" height="504" class="alignnone size-full wp-image-8621" srcset="../../wp-content/uploads/2014/09/texsx_distortion_ans.png 629w, ../../wp-content/uploads/2014/09/texsx_distortion_ans-225x180.png 225w, ../../wp-content/uploads/2014/09/texsx_distortion_ans-350x280.png 350w" sizes="(max-width: 629px) 100vw, 629px">
                                </p>
                                <p>
                                    The picture above shows an undistorted glyph (character “a” on the left in the line at the top), a distorted glyph (character “a” on the right in the line at the top), a word consisting of distorted glyphs (middle line), and a special character (Omega), all these can be found in the code at the end of the answer.
                                </p>
                                <p>
                                    Now I will describe the process I have followed to achieve these distortions. I mentioned that there is some work to be done outside of LaTeX, that is to convert a font file into SVG using FontForge. I found the solution how to do this in an answer to the question: Can we extract the points making the character from the font file?
                                </p>
                                <p>
                                    Copy the following into a file named <code class="codecolorer text dawn"><span class="text">font2svg.pe</span></code> into your “project” folder.
                                </p>
                                <div class="codecolorer-container bash dawn" style="overflow:auto;white-space:nowrap;">
                                    <table cellspacing="0" cellpadding="0">
                                        <tbody>
                                            <tr>
                                                <td class="line-numbers">
                                                    <div>
                                                        1<br>
                                                        2<br>
                                                        3<br>
                                                    </div>
                                                </td>
                                                <td>
                                                    <div class="bash codecolorer">
                                                        <span class="co0">#!/usr/bin/env fontforge</span><br>
                                                        Open<span class="br0">(</span><span class="re4">$1</span><span class="br0">)</span><br>
                                                        Generate<span class="br0">(</span><span class="re4">$1</span>:t:r + <span class="st0">".svg"</span><span class="br0">)</span>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <p>
                                    And make a SVG file from the font you want to use (I chose cmr10) with the following command.
                                </p>
                                <div class="codecolorer-container bash dawn" style="overflow:auto;white-space:nowrap;">
                                    <div class="bash codecolorer">
                                        fontforge font2svg.pe <span class="sy0">/</span>usr<span class="sy0">/</span>local<span class="sy0">/</span>texlive<span class="sy0">/</span><span class="nu0">2014</span><span class="sy0">/</span>texmf-dist<span class="sy0">/</span>fonts<span class="sy0">/</span>type1<span class="sy0">/</span>public<span class="sy0">/</span>amsfonts<span class="sy0">/</span>cm<span class="sy0">/</span>cmr10.pfb
                                    </div>
                                </div>
                                <p>
                                    Note that the location of the font on the filesystem may vary based on your LaTeX installation and operating system you use, but this will generate an SVG file into your project folder. All is left to process the generated SVG file which contains the data (name, unicode code, width, and outline) of the glyphs, which I will describe below.
                                </p>
                                <p>
                                    The function function <code class="codecolorer text dawn"><span class="text">read_font_data(file)</span></code> takes a file name as an argument (the generated SVG file), and extracts the data of the glyphs into an associative array which can be addressed with the unicode code and contains the width and outline data of the specific character. Note that not all glyphs have width or outline data, some basic error checking is done but the code is not foolproof.
                                </p>
                                <p>
                                    The function <code class="codecolorer text dawn"><span class="text">random_in_interval(lower_boundary, upper_boundary)</span></code> takes two float arguments, and will return a random float between them. The more the boundaries converge to 1 the smaller the randomization will be. This will be used when the time comes to randomize the outline of a glyph.
                                </p>
                                <p>
                                    The function <code class="codecolorer text dawn"><span class="text">scale_and_randomize(glyph, scale_factor, lower_boundary, upper_boundary)</span></code> will take a glyph, a scale factor, a lower and upper boundary, the latter two will be used for the randomization. Scaling is needed because the default measurement unit of TikZ is centimeters (I think) and the outline data of a glyph may contain large values, which TikZ interprets as centimeters. Note that the scale factor may vary depending the font you use, and size you want.
                                </p>
                                <p>
                                    The functions <code class="codecolorer text dawn"><span class="text">print_glyph(glyph, scale_factor, lower_boundary, upper_boundary)</span></code> and <code class="codecolorer text dawn"><span class="text">return_glyph</span></code> (the latter takes the same arguments) only differ in that <code class="codecolorer text dawn"><span class="text">print_glyph</span></code> will pass the TikZ drawing command (using svg.path library) used to print the glyph to LaTeX, while <code class="codecolorer text dawn"><span class="text">return_glyph</span></code> only returns the drawing command as a string which can be further used in Lua before passing it to LaTeX.
                                </p>
                                <p>
                                    The remaining functions only use the previously described <code class="codecolorer text dawn"><span class="text">print_glyph</span></code> and <code class="codecolorer text dawn"><span class="text">return_glyph</span></code> functions to print the picture above.
                                </p>
                                <p>
                                    That’s it. I hope this would fit your needs.
                                </p>
                                <div class="codecolorer-container lua dawn" style="overflow:auto;white-space:nowrap;height:400px;">
                                    <table cellspacing="0" cellpadding="0">
                                        <tbody>
                                            <tr>
                                                <td class="line-numbers">
                                                    <div>
                                                        1<br>
                                                        2<br>
                                                        3<br>
                                                        4<br>
                                                        5<br>
                                                        6<br>
                                                        7<br>
                                                        8<br>
                                                        9<br>
                                                        10<br>
                                                        11<br>
                                                        12<br>
                                                        13<br>
                                                        14<br>
                                                        15<br>
                                                        16<br>
                                                        17<br>
                                                        18<br>
                                                        19<br>
                                                        20<br>
                                                        21<br>
                                                        22<br>
                                                        23<br>
                                                        24<br>
                                                        25<br>
                                                        26<br>
                                                        27<br>
                                                        28<br>
                                                        29<br>
                                                        30<br>
                                                        31<br>
                                                        32<br>
                                                        33<br>
                                                        34<br>
                                                        35<br>
                                                        36<br>
                                                        37<br>
                                                        38<br>
                                                        39<br>
                                                        40<br>
                                                        41<br>
                                                        42<br>
                                                        43<br>
                                                        44<br>
                                                        45<br>
                                                        46<br>
                                                        47<br>
                                                        48<br>
                                                        49<br>
                                                        50<br>
                                                        51<br>
                                                        52<br>
                                                        53<br>
                                                        54<br>
                                                        55<br>
                                                        56<br>
                                                        57<br>
                                                        58<br>
                                                        59<br>
                                                        60<br>
                                                        61<br>
                                                        62<br>
                                                        63<br>
                                                        64<br>
                                                        65<br>
                                                        66<br>
                                                        67<br>
                                                        68<br>
                                                        69<br>
                                                        70<br>
                                                        71<br>
                                                        72<br>
                                                        73<br>
                                                        74<br>
                                                        75<br>
                                                        76<br>
                                                        77<br>
                                                        78<br>
                                                        79<br>
                                                        80<br>
                                                        81<br>
                                                        82<br>
                                                        83<br>
                                                        84<br>
                                                        85<br>
                                                        86<br>
                                                        87<br>
                                                        88<br>
                                                        89<br>
                                                        90<br>
                                                        91<br>
                                                        92<br>
                                                        93<br>
                                                        94<br>
                                                        95<br>
                                                        96<br>
                                                        97<br>
                                                        98<br>
                                                        99<br>
                                                        100<br>
                                                        101<br>
                                                        102<br>
                                                        103<br>
                                                        104<br>
                                                        105<br>
                                                        106<br>
                                                        107<br>
                                                        108<br>
                                                        109<br>
                                                        110<br>
                                                        111<br>
                                                        112<br>
                                                        113<br>
                                                        114<br>
                                                        115<br>
                                                        116<br>
                                                        117<br>
                                                        118<br>
                                                        119<br>
                                                        120<br>
                                                        121<br>
                                                        122<br>
                                                        123<br>
                                                        124<br>
                                                        125<br>
                                                        126<br>
                                                        127<br>
                                                        128<br>
                                                        129<br>
                                                        130<br>
                                                        131<br>
                                                        132<br>
                                                        133<br>
                                                        134<br>
                                                        135<br>
                                                        136<br>
                                                        137<br>
                                                        138<br>
                                                        139<br>
                                                        140<br>
                                                        141<br>
                                                        142<br>
                                                        143<br>
                                                        144<br>
                                                        145<br>
                                                        146<br>
                                                        147<br>
                                                        148<br>
                                                        149<br>
                                                        150<br>
                                                        151<br>
                                                        152<br>
                                                        153<br>
                                                        154<br>
                                                        155<br>
                                                        156<br>
                                                        157<br>
                                                        158<br>
                                                        159<br>
                                                        160<br>
                                                        161<br>
                                                        162<br>
                                                        163<br>
                                                        164<br>
                                                        165<br>
                                                        166<br>
                                                        167<br>
                                                        168<br>
                                                        169<br>
                                                        170<br>
                                                        171<br>
                                                        172<br>
                                                        173<br>
                                                        174<br>
                                                        175<br>
                                                        176<br>
                                                        177<br>
                                                        178<br>
                                                        179<br>
                                                        180<br>
                                                        181<br>
                                                        182<br>
                                                        183<br>
                                                        184<br>
                                                        185<br>
                                                        186<br>
                                                        187<br>
                                                        188<br>
                                                        189<br>
                                                        190<br>
                                                        191<br>
                                                        192<br>
                                                        193<br>
                                                        194<br>
                                                        195<br>
                                                        196<br>
                                                        197<br>
                                                        198<br>
                                                        199<br>
                                                        200<br>
                                                        201<br>
                                                        202<br>
                                                        203<br>
                                                        204<br>
                                                        205<br>
                                                        206<br>
                                                        207<br>
                                                        208<br>
                                                        209<br>
                                                        210<br>
                                                        211<br>
                                                        212<br>
                                                        213<br>
                                                        214<br>
                                                        215<br>
                                                        216<br>
                                                        217<br>
                                                        218<br>
                                                        219<br>
                                                        220<br>
                                                        221<br>
                                                        222<br>
                                                        223<br>
                                                        224<br>
                                                        225<br>
                                                        226<br>
                                                        227<br>
                                                        228<br>
                                                        229<br>
                                                        230<br>
                                                        231<br>
                                                    </div>
                                                </td>
                                                <td>
                                                    <div class="lua codecolorer">
                                                        <span class="sy0">%</span> Randomized drawing of individual glyphs<br>
                                                        <span class="sy0">%</span> Author<span class="sy0">:</span> István Szántai <span class="br0">(</span>szantaii<span class="br0">)</span><br>
                                                        <span class="sy0">%</span> Original at<span class="sy0">:</span> http<span class="sy0">://</span>tex<span class="sy0">.</span>stackexchange<span class="sy0">.</span>com<span class="sy0">/</span>a<span class="sy0">/</span><span class="nu0">197677</span><span class="sy0">/</span><span class="nu0">8844</span><br>
                                                        \documentclass<span class="br0">[</span>10pt<span class="sy0">,</span> a4paper<span class="br0">]</span><span class="br0">{</span>article<span class="br0">}</span><br>
                                                        <br>
                                                        \usepackage<span class="br0">[</span>T1<span class="br0">]</span><span class="br0">{</span>fontenc<span class="br0">}</span><br>
                                                        <br>
                                                        \usepackage<span class="br0">{</span>luacode<span class="br0">}</span><br>
                                                        <br>
                                                        \usepackage<span class="br0">{</span>tikz<span class="br0">}</span><br>
                                                        \usetikzlibrary<span class="br0">{</span>svg<span class="sy0">.</span>path<span class="sy0">,</span> positioning<span class="br0">}</span><br>
                                                        <br>
                                                        \pagestyle<span class="br0">{</span>empty<span class="br0">}</span><br>
                                                        <br>
                                                        \tikzset<span class="br0">{</span><span class="sy0">%</span><br>
                                                        &nbsp; &nbsp; glyph node<span class="sy0">/.</span>style<span class="sy0">=</span><span class="br0">{</span><span class="sy0">%</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; inner sep<span class="sy0">=</span>0pt<span class="sy0">,%</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; outer sep<span class="sy0">=</span>0pt<span class="sy0">%</span><br>
                                                        &nbsp; &nbsp; <span class="br0">}</span><span class="sy0">,%</span><br>
                                                        &nbsp; &nbsp; glyph outline<span class="sy0">/.</span>style<span class="sy0">=</span><span class="br0">{</span><span class="sy0">%</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; line width<span class="sy0">=</span>0pt<span class="sy0">%</span><br>
                                                        &nbsp; &nbsp; <span class="br0">}</span><span class="sy0">%</span><br>
                                                        <span class="br0">}</span><br>
                                                        <br>
                                                        \begin<span class="br0">{</span>luacode<span class="sy0">*</span><span class="br0">}</span><br>
                                                        &nbsp; &nbsp; <span class="kw1">function</span> read_font_data<span class="br0">(</span>file<span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> glyphs <span class="sy0">=</span> <span class="br0">{</span><span class="br0">}</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> fd <span class="sy0">=</span> <span class="kw3">io.open</span><span class="br0">(</span>file<span class="sy0">,</span> <span class="st0">"r"</span><span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> content <span class="sy0">=</span> fd<span class="sy0">:</span><span class="kw3">read</span><span class="br0">(</span><span class="st0">"*all"</span><span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; fd<span class="sy0">.</span>close<span class="br0">(</span><span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> glyph <span class="kw2">in</span> <span class="kw3">string</span><span class="sy0">.</span>gmatch<span class="br0">(</span>content<span class="sy0">,</span> <span class="st0">"&lt;glyph[^/&gt;]*"</span><span class="br0">)</span> <span class="kw1">do</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> glyph_tag <span class="sy0">=</span> <span class="kw3">string.gsub</span><span class="br0">(</span>glyph<span class="sy0">,</span> <span class="st0">"<span class="es1">\n</span>"</span><span class="sy0">,</span> <span class="st0">" "</span><span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> unicode <span class="sy0">=</span> <span class="kw3">string</span><span class="sy0">.</span>match<span class="br0">(</span>glyph_tag<span class="sy0">,</span> <span class="st0">"unicode="</span><span class="br0">[</span><span class="sy0">^</span><span class="st0">"]*"</span><span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> outline <span class="sy0">=</span> <span class="kw3">string</span><span class="sy0">.</span>match<span class="br0">(</span>glyph_tag<span class="sy0">,</span> <span class="st0">"d="</span><span class="br0">[</span><span class="sy0">^</span><span class="st0">"]*"</span><span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> width <span class="sy0">=</span> <span class="kw3">string</span><span class="sy0">.</span>match<span class="br0">(</span>glyph_tag<span class="sy0">,</span> <span class="st0">"horiz%-adv%-x="</span><span class="br0">[</span><span class="sy0">^</span><span class="st0">"]*"</span><span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span> unicode <span class="sy0">~=</span> <span class="kw4">nil</span> <span class="kw2">and</span> <span class="sy0">#</span>unicode <span class="sy0">&gt;=</span> <span class="nu0">10</span> <span class="kw1">then</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; unicode <span class="sy0">=</span> <span class="kw3">string.sub</span><span class="br0">(</span>unicode<span class="sy0">,</span> <span class="nu0">10</span><span class="sy0">,</span> <span class="sy0">#</span>unicode<span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span> outline <span class="sy0">~=</span> <span class="kw4">nil</span> <span class="kw2">and</span> <span class="sy0">#</span>outline <span class="sy0">&gt;</span> <span class="nu0">4</span> <span class="kw1">then</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; outline <span class="sy0">=</span> <span class="kw3">string.sub</span><span class="br0">(</span>outline<span class="sy0">,</span> <span class="nu0">4</span><span class="sy0">,</span> <span class="sy0">#</span>outline<span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span> width <span class="sy0">~=</span> <span class="kw4">nil</span> <span class="kw2">and</span> <span class="sy0">#</span>width <span class="sy0">&gt;=</span> <span class="nu0">14</span> <span class="kw1">then</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; width <span class="sy0">=</span> <span class="kw3">string.sub</span><span class="br0">(</span>width<span class="sy0">,</span> <span class="nu0">14</span><span class="sy0">,</span> <span class="sy0">#</span>width<span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span> unicode <span class="sy0">~=</span> <span class="kw4">nil</span> <span class="kw1">then</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; glyphs<span class="br0">[</span>unicode<span class="br0">]</span> <span class="sy0">=</span> <span class="br0">{</span>width<span class="sy0">,</span> outline<span class="br0">}</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">return</span> glyphs<br>
                                                        &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                        &nbsp; &nbsp;<br>
                                                        &nbsp; &nbsp; <span class="co1">-- returns a random float number between the specified boundaries (floats)</span><br>
                                                        &nbsp; &nbsp; <span class="kw1">function</span> random_in_interval<span class="br0">(</span>lower_boundary<span class="sy0">,</span> upper_boundary<span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">return</span> <span class="br0">(</span><span class="br0">(</span><span class="kw3">math.random</span><span class="br0">(</span><span class="br0">)</span> <span class="sy0">*</span> <span class="br0">(</span>upper_boundary <span class="sy0">-</span> lower_boundary<span class="br0">)</span><span class="br0">)</span> <span class="sy0">+</span> lower_boundary<span class="br0">)</span><br>
                                                        &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                        &nbsp; &nbsp;<br>
                                                        &nbsp; &nbsp; <span class="co1">-- note: scaling is applied before randomization</span><br>
                                                        &nbsp; &nbsp; <span class="kw1">function</span> scale_and_randomize<span class="br0">(</span>glyph<span class="sy0">,</span> scale_factor<span class="sy0">,</span> lower_boundary<span class="sy0">,</span> upper_boundary<span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> width <span class="sy0">=</span> glyph<span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> outline <span class="sy0">=</span> glyph<span class="br0">[</span><span class="nu0">2</span><span class="br0">]</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> previous_was_number <span class="sy0">=</span> <span class="kw4">false</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> processed_outline <span class="sy0">=</span> <span class="st0">""</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> number <span class="sy0">=</span> <span class="st0">""</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span> width <span class="sy0">~=</span> <span class="kw4">nil</span> <span class="kw1">then</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; width <span class="sy0">=</span> width <span class="sy0">*</span> scale_factor<br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span> outline <span class="sy0">~=</span> <span class="kw4">nil</span> <span class="kw1">then</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> i <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">#</span>outline<span class="sy0">,</span> <span class="nu0">1</span> <span class="kw1">do</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> char <span class="sy0">=</span> <span class="kw3">string.sub</span><span class="br0">(</span>outline<span class="sy0">,</span> i<span class="sy0">,</span> i<span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span> previous_was_number <span class="kw1">then</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span> <span class="kw3">string</span><span class="sy0">.</span>match<span class="br0">(</span>char<span class="sy0">,</span> <span class="st0">'%d'</span><span class="br0">)</span> <span class="sy0">~=</span> <span class="kw4">nil</span> <span class="kw2">or</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; char <span class="sy0">==</span> <span class="st0">"."</span> <span class="kw1">then</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; number <span class="sy0">=</span> number <span class="sy0">..</span> char<br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">else</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="co1">-- scale and randomize</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; number <span class="sy0">=</span> number <span class="sy0">*</span> scale_factor<br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; number <span class="sy0">=</span> number <span class="sy0">*</span> random_in_interval<span class="br0">(</span>lower_boundary<span class="sy0">,</span> upper_boundary<span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; number <span class="sy0">=</span> <span class="kw3">string.format</span><span class="br0">(</span><span class="st0">"%.3f"</span><span class="sy0">,</span> number<span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; processed_outline <span class="sy0">=</span> processed_outline <span class="sy0">..</span> number <span class="sy0">..</span> char<br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; number <span class="sy0">=</span> <span class="st0">""</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; previous_was_number <span class="sy0">=</span> <span class="kw4">false</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">else</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span> <span class="kw3">string</span><span class="sy0">.</span>match<span class="br0">(</span>char<span class="sy0">,</span> <span class="st0">'%d'</span><span class="br0">)</span> <span class="sy0">~=</span> <span class="kw4">nil</span> <span class="kw2">or</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; char <span class="sy0">==</span> <span class="st0">"-"</span> <span class="kw1">then</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; number <span class="sy0">=</span> number <span class="sy0">..</span> char<br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; previous_was_number <span class="sy0">=</span> <span class="kw4">true</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">else</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; processed_outline <span class="sy0">=</span> processed_outline <span class="sy0">..</span> char<br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; previous_was_number <span class="sy0">=</span> <span class="kw4">false</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">return</span> <span class="br0">{</span>width<span class="sy0">,</span> processed_outline<span class="br0">}</span><br>
                                                        &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                        &nbsp; &nbsp;<br>
                                                        &nbsp; &nbsp; <span class="kw1">function</span> print_glyph<span class="br0">(</span>glyph<span class="sy0">,</span> scale_factor<span class="sy0">,</span> lower_boundary<span class="sy0">,</span> upper_boundary<span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> randomized_glyph <span class="sy0">=</span> scale_and_randomize<span class="br0">(</span>glyph<span class="sy0">,</span> scale_factor<span class="sy0">,</span> lower_boundary<span class="sy0">,</span> upper_boundary<span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> width <span class="sy0">=</span> randomized_glyph<span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> outline <span class="sy0">=</span> randomized_glyph<span class="br0">[</span><span class="nu0">2</span><span class="br0">]</span><br>
                                                        <br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span> outline <span class="sy0">~=</span> <span class="kw4">nil</span> <span class="kw1">then</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span><span class="st0">"<span class="es1">\\</span>filldraw[glyph outline] svg "</span><span class="st0">" .. outline .. "</span><span class="st0">";"</span><span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                        &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                        &nbsp; &nbsp;<br>
                                                        &nbsp; &nbsp; <span class="kw1">function</span> return_glyph<span class="br0">(</span>glyph<span class="sy0">,</span> scale_factor<span class="sy0">,</span> lower_boundary<span class="sy0">,</span> upper_boundary<span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> randomized_glyph <span class="sy0">=</span> scale_and_randomize<span class="br0">(</span>glyph<span class="sy0">,</span> scale_factor<span class="sy0">,</span> lower_boundary<span class="sy0">,</span> upper_boundary<span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> width <span class="sy0">=</span> randomized_glyph<span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> outline <span class="sy0">=</span> randomized_glyph<span class="br0">[</span><span class="nu0">2</span><span class="br0">]</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span> outline <span class="sy0">~=</span> <span class="kw4">nil</span> <span class="kw1">then</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">return</span> <span class="st0">"<span class="es1">\\</span>filldraw[glyph outline] svg "</span><span class="st0">" .. outline .. "</span><span class="st0">";"</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">else</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">return</span> <span class="st0">""</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                        &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                        &nbsp; &nbsp;<br>
                                                        &nbsp; &nbsp; <span class="kw1">function</span> draw_sample_glyphs<span class="br0">(</span>glyphs<span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span><span class="st0">"<span class="es1">\\</span>begin{tikzpicture}"</span><span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span><span class="st0">"<span class="es1">\\</span>node[glyph node, matrix, anchor=south west] (a1) {"</span> <span class="sy0">..</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return_glyph<span class="br0">(</span>glyphs<span class="br0">[</span><span class="st0">"a"</span><span class="br0">]</span><span class="sy0">,</span> <span class="nu0">0.05</span><span class="sy0">,</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="br0">)</span> <span class="sy0">..</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"<span class="es1">\\</span><span class="es1">\\</span>};"</span><span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span><span class="st0">"<span class="es1">\\</span>node[glyph node, matrix, anchor=south west, right=7.5mm of a1] (a2) {"</span> <span class="sy0">..</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return_glyph<span class="br0">(</span>glyphs<span class="br0">[</span><span class="st0">"a"</span><span class="br0">]</span><span class="sy0">,</span> <span class="nu0">0.05</span><span class="sy0">,</span> <span class="nu0">0.8</span><span class="sy0">,</span> <span class="nu0">1.2</span><span class="br0">)</span> <span class="sy0">..</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"<span class="es1">\\</span><span class="es1">\\</span>};"</span><span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span><span class="st0">"<span class="es1">\\</span>end{tikzpicture}"</span><span class="br0">)</span><br>
                                                        &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                        &nbsp; &nbsp;<br>
                                                        &nbsp; &nbsp; <span class="kw1">function</span> draw_sample_text<span class="br0">(</span>glyphs<span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> horizontal_space <span class="sy0">=</span> <span class="st0">"0.5mm"</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> vertical_space <span class="sy0">=</span> <span class="st0">"1.25mm"</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> scale <span class="sy0">=</span> <span class="nu0">0.05</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> lower_boundary <span class="sy0">=</span> <span class="nu0">0.9</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> upper_boundary <span class="sy0">=</span> <span class="nu0">1.1</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span><span class="st0">"<span class="es1">\\</span>begin{tikzpicture}"</span><span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span><span class="st0">"<span class="es1">\\</span>node[glyph node, matrix] (m1) {"</span> <span class="sy0">..</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return_glyph<span class="br0">(</span>glyphs<span class="br0">[</span><span class="st0">"m"</span><span class="br0">]</span><span class="sy0">,</span> scale<span class="sy0">,</span> lower_boundary<span class="sy0">,</span> upper_boundary<span class="br0">)</span> <span class="sy0">..</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"<span class="es1">\\</span><span class="es1">\\</span>};"</span><span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span><span class="st0">"<span class="es1">\\</span>node[glyph node, matrix, right="</span> <span class="sy0">..</span> horizontal_space <span class="sy0">..</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">" of m1] (a1) {"</span> <span class="sy0">..</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return_glyph<span class="br0">(</span>glyphs<span class="br0">[</span><span class="st0">"a"</span><span class="br0">]</span><span class="sy0">,</span> scale<span class="sy0">,</span> lower_boundary<span class="sy0">,</span> upper_boundary<span class="br0">)</span> <span class="sy0">..</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"<span class="es1">\\</span><span class="es1">\\</span>};"</span><span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span><span class="st0">"<span class="es1">\\</span>node[glyph node, matrix, right="</span> <span class="sy0">..</span> horizontal_space <span class="sy0">..</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">" of a1] (t1) {"</span> <span class="sy0">..</span> <span class="st0">"<span class="es1">\\</span>raisebox{"</span> <span class="sy0">..</span> vertical_space <span class="sy0">..</span> <span class="st0">"}{"</span> <span class="sy0">..</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return_glyph<span class="br0">(</span>glyphs<span class="br0">[</span><span class="st0">"t"</span><span class="br0">]</span><span class="sy0">,</span> scale<span class="sy0">,</span> lower_boundary<span class="sy0">,</span> upper_boundary<span class="br0">)</span> <span class="sy0">..</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"}"</span> <span class="sy0">..</span> <span class="st0">"<span class="es1">\\</span><span class="es1">\\</span>};"</span><span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span><span class="st0">"<span class="es1">\\</span>node[glyph node, matrix, right="</span> <span class="sy0">..</span> horizontal_space <span class="sy0">..</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">" of t1] (h1) {"</span> <span class="sy0">..</span> <span class="st0">"<span class="es1">\\</span>raisebox{"</span> <span class="sy0">..</span> vertical_space <span class="sy0">..</span> <span class="st0">"}{"</span> <span class="sy0">..</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return_glyph<span class="br0">(</span>glyphs<span class="br0">[</span><span class="st0">"h"</span><span class="br0">]</span><span class="sy0">,</span> scale<span class="sy0">,</span> lower_boundary<span class="sy0">,</span> upper_boundary<span class="br0">)</span> <span class="sy0">..</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"}"</span> <span class="sy0">..</span> <span class="st0">"<span class="es1">\\</span><span class="es1">\\</span>};"</span><span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span><span class="st0">"<span class="es1">\\</span>node[glyph node, matrix, right="</span> <span class="sy0">..</span> horizontal_space <span class="sy0">..</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">" of h1] (e1) {"</span> <span class="sy0">..</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return_glyph<span class="br0">(</span>glyphs<span class="br0">[</span><span class="st0">"e"</span><span class="br0">]</span><span class="sy0">,</span> scale<span class="sy0">,</span> lower_boundary<span class="sy0">,</span> upper_boundary<span class="br0">)</span> <span class="sy0">..</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"<span class="es1">\\</span><span class="es1">\\</span>};"</span><span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span><span class="st0">"<span class="es1">\\</span>node[glyph node, matrix, right="</span> <span class="sy0">..</span> horizontal_space <span class="sy0">..</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">" of e1] (m2) {"</span> <span class="sy0">..</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return_glyph<span class="br0">(</span>glyphs<span class="br0">[</span><span class="st0">"m"</span><span class="br0">]</span><span class="sy0">,</span> scale<span class="sy0">,</span> lower_boundary<span class="sy0">,</span> upper_boundary<span class="br0">)</span> <span class="sy0">..</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"<span class="es1">\\</span><span class="es1">\\</span>};"</span><span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span><span class="st0">"<span class="es1">\\</span>node[glyph node, matrix, right="</span> <span class="sy0">..</span> horizontal_space <span class="sy0">..</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">" of m2] (a2) {"</span> <span class="sy0">..</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return_glyph<span class="br0">(</span>glyphs<span class="br0">[</span><span class="st0">"a"</span><span class="br0">]</span><span class="sy0">,</span> scale<span class="sy0">,</span> lower_boundary<span class="sy0">,</span> upper_boundary<span class="br0">)</span> <span class="sy0">..</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"<span class="es1">\\</span><span class="es1">\\</span>};"</span><span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span><span class="st0">"<span class="es1">\\</span>node[glyph node, matrix, right="</span> <span class="sy0">..</span> horizontal_space <span class="sy0">..</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">" of a2] (t2) {"</span> <span class="sy0">..</span> <span class="st0">"<span class="es1">\\</span>raisebox{"</span> <span class="sy0">..</span> vertical_space <span class="sy0">..</span> <span class="st0">"}{"</span> <span class="sy0">..</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return_glyph<span class="br0">(</span>glyphs<span class="br0">[</span><span class="st0">"t"</span><span class="br0">]</span><span class="sy0">,</span> scale<span class="sy0">,</span> lower_boundary<span class="sy0">,</span> upper_boundary<span class="br0">)</span> <span class="sy0">..</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"}"</span> <span class="sy0">..</span> <span class="st0">"<span class="es1">\\</span><span class="es1">\\</span>};"</span><span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span><span class="st0">"<span class="es1">\\</span>node[glyph node, matrix, right="</span> <span class="sy0">..</span> horizontal_space <span class="sy0">..</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">" of t2] (i1) {"</span> <span class="sy0">..</span> <span class="st0">"<span class="es1">\\</span>raisebox{"</span> <span class="sy0">..</span> vertical_space <span class="sy0">..</span> <span class="st0">"}{"</span> <span class="sy0">..</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return_glyph<span class="br0">(</span>glyphs<span class="br0">[</span><span class="st0">"i"</span><span class="br0">]</span><span class="sy0">,</span> scale<span class="sy0">,</span> lower_boundary<span class="sy0">,</span> upper_boundary<span class="br0">)</span> <span class="sy0">..</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"}"</span> <span class="sy0">..</span> <span class="st0">"<span class="es1">\\</span><span class="es1">\\</span>};"</span><span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span><span class="st0">"<span class="es1">\\</span>node[glyph node, matrix, right="</span> <span class="sy0">..</span> horizontal_space <span class="sy0">..</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">" of i1] (c1) {"</span> <span class="sy0">..</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return_glyph<span class="br0">(</span>glyphs<span class="br0">[</span><span class="st0">"c"</span><span class="br0">]</span><span class="sy0">,</span> scale<span class="sy0">,</span> lower_boundary<span class="sy0">,</span> upper_boundary<span class="br0">)</span> <span class="sy0">..</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"<span class="es1">\\</span><span class="es1">\\</span>};"</span><span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span><span class="st0">"<span class="es1">\\</span>node[glyph node, matrix, right="</span> <span class="sy0">..</span> horizontal_space <span class="sy0">..</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">" of c1] (s1) {"</span> <span class="sy0">..</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return_glyph<span class="br0">(</span>glyphs<span class="br0">[</span><span class="st0">"s"</span><span class="br0">]</span><span class="sy0">,</span> scale<span class="sy0">,</span> lower_boundary<span class="sy0">,</span> upper_boundary<span class="br0">)</span> <span class="sy0">..</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"<span class="es1">\\</span><span class="es1">\\</span>};"</span><span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span><span class="st0">"<span class="es1">\\</span>end{tikzpicture}"</span><span class="br0">)</span><br>
                                                        &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                        &nbsp; &nbsp;<br>
                                                        &nbsp; &nbsp; <span class="kw1">function</span> draw_sample_glyph<span class="br0">(</span>glyphs<span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span><span class="st0">"<span class="es1">\\</span>begin{tikzpicture}"</span><span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; print_glyph<span class="br0">(</span>glyphs<span class="br0">[</span><span class="st0">"&amp;#x3a9;"</span><span class="br0">]</span><span class="sy0">,</span> <span class="nu0">0.05</span><span class="sy0">,</span> <span class="nu0">0.95</span><span class="sy0">,</span> <span class="nu0">1.05</span><span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span><span class="st0">"<span class="es1">\\</span>end{tikzpicture}"</span><span class="br0">)</span><br>
                                                        &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                        &nbsp; &nbsp;<br>
                                                        &nbsp; &nbsp; <span class="kw1">function</span> main<span class="br0">(</span><span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> cmr10_glyphs <span class="sy0">=</span> <span class="br0">{</span><span class="br0">}</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw3">math.randomseed</span><span class="br0">(</span><span class="kw3">os.time</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; cmr10_glyphs <span class="sy0">=</span> read_font_data<span class="br0">(</span><span class="st0">"cmr10.svg"</span><span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span><span class="st0">"<span class="es1">\\</span>noindent"</span><span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; draw_sample_glyphs<span class="br0">(</span>cmr10_glyphs<span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span><span class="st0">"<span class="es1">\\</span><span class="es1">\\</span>[2cm]"</span><span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; draw_sample_text<span class="br0">(</span>cmr10_glyphs<span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span><span class="st0">"<span class="es1">\\</span><span class="es1">\\</span>[2cm]"</span><span class="br0">)</span><br>
                                                        &nbsp; &nbsp; &nbsp; &nbsp; draw_sample_glyph<span class="br0">(</span>cmr10_glyphs<span class="br0">)</span><br>
                                                        &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                        \<span class="kw1">end</span><span class="br0">{</span>luacode<span class="sy0">*</span><span class="br0">}</span><br>
                                                        <br>
                                                        \begin<span class="br0">{</span>document<span class="br0">}</span><br>
                                                        \luadirect<span class="br0">{</span>main<span class="br0">(</span><span class="br0">)</span><span class="br0">}</span><br>
                                                        \<span class="kw1">end</span><span class="br0">{</span>document<span class="br0">}</span>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </blockquote>
                            <p>
                                Nice, isn’t it?
                            </p>
                            <p>
                                I’ve created an animation in LaTeX (clarification later) using this code, which makes the letter “a” wibbly-wobbly. There is also a video which shows the same letter but only the outline is drawn, but in my opinion it doesn’t look that good: <a href="https://www.youtube.com/watch?v=ysNP5T-SeJE">Glyph distortion – YouTube</a>.
                            </p>
                            <p>
                                <a href="https://www.youtube.com/watch?v=qd7i83b6DjI">https://www.youtube.com/watch?v=qd7i83b6DjI</a>
                            </p>
                            <p>
                                These videos are also available on Vimeo: <a href="#" title="Glyph distortion on Vimeo">Glyph distortion on Vimeo</a>, <a href="#" title="Glyph distortion #2 on Vimeo">Glyph distortion #2 on Vimeo</a>.
                            </p>
                            <p>
                                The second animation (also made in LaTeX) draws a big letter “a” stacking only outlines of it on top of each other which it gives a hollow like look.
                            </p>
                            <p>
                                <a href="https://www.youtube.com/watch?v=eTM3fKI5W6Y">https://www.youtube.com/watch?v=eTM3fKI5W6Y</a>
                            </p>
                            <p>
                                This video is also available on Vimeo: <a href="#" title="Font outline animation #2 on Vimeo">Font outline animation #2 on Vimeo</a>.
                            </p>
                            <p>
                                Only one question remains, how did I made these animations in LaTeX? I just built upon the code above, and rendered a long PDF which’s each page is a frame of the animation. After that I only followed some steps <a href="../../index.html%3Fp=8571.html" title="Font outline animation / sidenote">I’ve described before</a>.
                            </p>
                            <div class="post_tags clear">
                                <ul>
                                    <li>
                                        <a href="index.html" rel="tag">TeX/LaTeX</a>
                                    </li>
                                    <li>
                                        <a href="../tipografia/index.html" rel="tag">tipográfia</a>
                                    </li>
                                    <li>
                                        <a href="../video/index.html" rel="tag">videó</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="clear post-8559 post type-post status-publish format-standard hentry category-alkotunk category-jatek category-szoftver tag-indie tag-rajz tag-tex-latex" id="post_8559">
                        <div class="post_meta">
                            <h2>
                                <a href="../../index.html%3Fp=8559.html" title="Creeper" rel="bookmark">Creeper</a>
                            </h2>
                            <div class="post_data">
                                <div class="post_author">
                                    Írta: <a href="../../index.html" title="szantaii honlapjának megtekintése" rel="author external">szantaii</a>
                                </div>
                                <div class="post_date">
                                    2014. augusztus 3. 18:17
                                </div>
                                <div class="post_categories">
                                    <a href="../../category/alkotunk/index.html" rel="category tag">alkotunk</a>, <a href="../../category/jatek/index.html" rel="category tag">játék</a>, <a href="../../category/szoftver/index.html" rel="category tag">szoftver</a>
                                </div>
                            </div>
                        </div>
                        <div class="post_content">
                            <p>
                                As a follow-up for <a href="../../index.html%3Fp=8535.html" title="Drawing an Enderman in LaTeX / sidenote">my last post</a> hereby I present a Creeper (right) in (Lua)LaTeX.
                            </p>
                            <p>
                                <a href="../../wp-content/uploads/2014/08/creeper_minecraft_wiki.png"><img src="../../wp-content/uploads/2014/08/creeper_minecraft_wiki-350x713.png" alt="Creeper" width="350" height="713" class="alignnone size-medium wp-image-8561" srcset="../../wp-content/uploads/2014/08/creeper_minecraft_wiki-350x713.png 350w, ../../wp-content/uploads/2014/08/creeper_minecraft_wiki-225x458.png 225w, ../../wp-content/uploads/2014/08/creeper_minecraft_wiki.png 454w" sizes="(max-width: 350px) 100vw, 350px"></a>&nbsp;<a href="../../wp-content/uploads/2014/08/creeper_lualatex.png"><img src="../../wp-content/uploads/2014/08/creeper_lualatex-350x713.png" alt="Creeper" width="350" height="713" class="alignnone size-medium wp-image-8562" srcset="../../wp-content/uploads/2014/08/creeper_lualatex-350x713.png 350w, ../../wp-content/uploads/2014/08/creeper_lualatex-225x458.png 225w, ../../wp-content/uploads/2014/08/creeper_lualatex.png 560w" sizes="(max-width: 350px) 100vw, 350px"></a>
                            </p>
                            <p>
                                Image source (left): <a href="#" title="File:Creeper.png - Minecraft Wiki">File:Creeper.png – Minecraft Wiki</a>
                            </p>
                            <div class="codecolorer-container lua dawn" style="overflow:auto;white-space:nowrap;height:400px;">
                                <table cellspacing="0" cellpadding="0">
                                    <tbody>
                                        <tr>
                                            <td class="line-numbers">
                                                <div>
                                                    1<br>
                                                    2<br>
                                                    3<br>
                                                    4<br>
                                                    5<br>
                                                    6<br>
                                                    7<br>
                                                    8<br>
                                                    9<br>
                                                    10<br>
                                                    11<br>
                                                    12<br>
                                                    13<br>
                                                    14<br>
                                                    15<br>
                                                    16<br>
                                                    17<br>
                                                    18<br>
                                                    19<br>
                                                    20<br>
                                                    21<br>
                                                    22<br>
                                                    23<br>
                                                    24<br>
                                                    25<br>
                                                    26<br>
                                                    27<br>
                                                    28<br>
                                                    29<br>
                                                    30<br>
                                                    31<br>
                                                    32<br>
                                                    33<br>
                                                    34<br>
                                                    35<br>
                                                    36<br>
                                                    37<br>
                                                    38<br>
                                                    39<br>
                                                    40<br>
                                                    41<br>
                                                    42<br>
                                                    43<br>
                                                    44<br>
                                                    45<br>
                                                    46<br>
                                                    47<br>
                                                    48<br>
                                                    49<br>
                                                    50<br>
                                                    51<br>
                                                    52<br>
                                                    53<br>
                                                    54<br>
                                                    55<br>
                                                    56<br>
                                                    57<br>
                                                    58<br>
                                                    59<br>
                                                    60<br>
                                                    61<br>
                                                    62<br>
                                                    63<br>
                                                    64<br>
                                                    65<br>
                                                    66<br>
                                                    67<br>
                                                    68<br>
                                                    69<br>
                                                    70<br>
                                                    71<br>
                                                    72<br>
                                                    73<br>
                                                    74<br>
                                                    75<br>
                                                    76<br>
                                                    77<br>
                                                    78<br>
                                                    79<br>
                                                    80<br>
                                                    81<br>
                                                    82<br>
                                                    83<br>
                                                    84<br>
                                                    85<br>
                                                    86<br>
                                                    87<br>
                                                    88<br>
                                                    89<br>
                                                    90<br>
                                                    91<br>
                                                    92<br>
                                                    93<br>
                                                    94<br>
                                                    95<br>
                                                    96<br>
                                                    97<br>
                                                    98<br>
                                                    99<br>
                                                    100<br>
                                                    101<br>
                                                    102<br>
                                                    103<br>
                                                    104<br>
                                                    105<br>
                                                    106<br>
                                                    107<br>
                                                    108<br>
                                                    109<br>
                                                    110<br>
                                                    111<br>
                                                    112<br>
                                                    113<br>
                                                    114<br>
                                                    115<br>
                                                    116<br>
                                                    117<br>
                                                    118<br>
                                                    119<br>
                                                    120<br>
                                                    121<br>
                                                    122<br>
                                                    123<br>
                                                    124<br>
                                                    125<br>
                                                    126<br>
                                                    127<br>
                                                    128<br>
                                                    129<br>
                                                    130<br>
                                                    131<br>
                                                    132<br>
                                                    133<br>
                                                    134<br>
                                                    135<br>
                                                    136<br>
                                                    137<br>
                                                    138<br>
                                                    139<br>
                                                    140<br>
                                                    141<br>
                                                    142<br>
                                                    143<br>
                                                    144<br>
                                                    145<br>
                                                    146<br>
                                                    147<br>
                                                    148<br>
                                                    149<br>
                                                    150<br>
                                                    151<br>
                                                    152<br>
                                                    153<br>
                                                    154<br>
                                                    155<br>
                                                    156<br>
                                                    157<br>
                                                    158<br>
                                                    159<br>
                                                    160<br>
                                                    161<br>
                                                    162<br>
                                                    163<br>
                                                    164<br>
                                                    165<br>
                                                    166<br>
                                                    167<br>
                                                    168<br>
                                                    169<br>
                                                    170<br>
                                                    171<br>
                                                    172<br>
                                                    173<br>
                                                    174<br>
                                                    175<br>
                                                    176<br>
                                                    177<br>
                                                    178<br>
                                                    179<br>
                                                    180<br>
                                                    181<br>
                                                    182<br>
                                                    183<br>
                                                    184<br>
                                                    185<br>
                                                    186<br>
                                                    187<br>
                                                    188<br>
                                                    189<br>
                                                    190<br>
                                                    191<br>
                                                    192<br>
                                                    193<br>
                                                    194<br>
                                                    195<br>
                                                    196<br>
                                                    197<br>
                                                    198<br>
                                                    199<br>
                                                    200<br>
                                                    201<br>
                                                    202<br>
                                                    203<br>
                                                    204<br>
                                                    205<br>
                                                    206<br>
                                                    207<br>
                                                    208<br>
                                                    209<br>
                                                    210<br>
                                                    211<br>
                                                    212<br>
                                                    213<br>
                                                    214<br>
                                                    215<br>
                                                    216<br>
                                                    217<br>
                                                    218<br>
                                                    219<br>
                                                    220<br>
                                                    221<br>
                                                    222<br>
                                                    223<br>
                                                    224<br>
                                                    225<br>
                                                    226<br>
                                                    227<br>
                                                    228<br>
                                                    229<br>
                                                    230<br>
                                                    231<br>
                                                    232<br>
                                                    233<br>
                                                    234<br>
                                                    235<br>
                                                    236<br>
                                                    237<br>
                                                    238<br>
                                                    239<br>
                                                    240<br>
                                                    241<br>
                                                    242<br>
                                                    243<br>
                                                    244<br>
                                                    245<br>
                                                    246<br>
                                                    247<br>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="lua codecolorer">
                                                    <span class="sy0">%</span> Creeper<br>
                                                    <span class="sy0">%</span> Author<span class="sy0">:</span> István Szántai <span class="br0">(</span>szantaii<span class="br0">)</span><br>
                                                    \documentclass<span class="br0">{</span>article<span class="br0">}</span><br>
                                                    <br>
                                                    \usepackage<span class="br0">{</span>luacode<span class="br0">}</span><br>
                                                    <br>
                                                    \usepackage<span class="br0">{</span>xcolor<span class="br0">}</span><br>
                                                    <br>
                                                    \usepackage<span class="br0">{</span>tikz<span class="br0">}</span><br>
                                                    \usepackage<span class="br0">{</span>tikz<span class="sy0">-</span>3dplot<span class="br0">}</span><br>
                                                    <br>
                                                    \usepackage<span class="br0">[</span>active<span class="sy0">,</span> tightpage<span class="br0">]</span><span class="br0">{</span>preview<span class="br0">}</span><br>
                                                    \PreviewEnvironment<span class="br0">{</span>tikzpicture<span class="br0">}</span><br>
                                                    \setlength<span class="br0">{</span>\PreviewBorder<span class="br0">}</span><span class="br0">{</span>1cm<span class="br0">}</span><br>
                                                    <br>
                                                    \definecolor<span class="br0">{</span>creeper_white<span class="br0">}</span><span class="br0">{</span>HTML<span class="br0">}</span><span class="br0">{</span>9AD78E<span class="br0">}</span><br>
                                                    \definecolor<span class="br0">{</span>creeper_lightgreen<span class="br0">}</span><span class="br0">{</span>HTML<span class="br0">}</span><span class="br0">{</span>5ED04C<span class="br0">}</span><br>
                                                    \definecolor<span class="br0">{</span>creeper_green<span class="br0">}</span><span class="br0">{</span>HTML<span class="br0">}</span><span class="br0">{</span>00A500<span class="br0">}</span><br>
                                                    \definecolor<span class="br0">{</span>creeper_darkgreen<span class="br0">}</span><span class="br0">{</span>HTML<span class="br0">}</span><span class="br0">{</span><span class="nu0">255522</span><span class="br0">}</span><br>
                                                    <br>
                                                    \begin<span class="br0">{</span>luacode<span class="sy0">*</span><span class="br0">}</span><br>
                                                    &nbsp; &nbsp; <span class="kw1">function</span> draw_coordinate_system<span class="br0">(</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span><span class="st0">"<span class="es1">\\</span>draw[white!50!gray,thick,-&gt;] (0,0,0) -- "</span> <span class="sy0">..</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"(3,0,0) node[text=white!50!gray,anchor=north east]{$x$};"</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span><span class="st0">"<span class="es1">\\</span>draw[white!50!gray,thick,-&gt;] (0,0,0) -- "</span> <span class="sy0">..</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"(0,3,0) node[text=white!50!gray,anchor=west]{$y$};"</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span><span class="st0">"<span class="es1">\\</span>draw[white!50!gray,thick,-&gt;] (0,0,0) -- "</span> <span class="sy0">..</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"(0,0,3) node[text=white!50!gray,anchor=south]{$z$};"</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; <span class="kw1">function</span> matrix_scalar_multiplication<span class="br0">(</span>matrix<span class="sy0">,</span> scalar<span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> rows <span class="sy0">=</span> <span class="sy0">#</span>matrix<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> cols <span class="sy0">=</span> <span class="sy0">#</span>matrix<span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> tmp_matrix <span class="sy0">=</span> <span class="br0">{</span><span class="br0">}</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> i <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">,</span> rows <span class="kw1">do</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tmp_matrix<span class="br0">[</span>i<span class="br0">]</span> <span class="sy0">=</span> <span class="br0">{</span><span class="br0">}</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> j <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">,</span> cols <span class="kw1">do</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tmp_matrix<span class="br0">[</span>i<span class="br0">]</span><span class="br0">[</span>j<span class="br0">]</span> <span class="sy0">=</span> matrix<span class="br0">[</span>i<span class="br0">]</span><span class="br0">[</span>j<span class="br0">]</span> <span class="sy0">*</span> scalar<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">return</span> tmp_matrix<br>
                                                    &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; <span class="kw1">function</span> shift_coordinates<span class="br0">(</span>matrix<span class="sy0">,</span> array<span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> matrix_rows <span class="sy0">=</span> <span class="sy0">#</span>matrix<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> matrix_cols <span class="sy0">=</span> <span class="sy0">#</span>matrix<span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> array_length <span class="sy0">=</span> <span class="sy0">#</span>array<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> tmp_matrix <span class="sy0">=</span> <span class="br0">{</span><span class="br0">}</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span> matrix_cols <span class="sy0">==</span> array_length <span class="kw1">then</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> i <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">,</span> matrix_rows <span class="kw1">do</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tmp_matrix<span class="br0">[</span>i<span class="br0">]</span> <span class="sy0">=</span> <span class="br0">{</span><span class="br0">}</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> j <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">,</span> matrix_cols <span class="kw1">do</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tmp_matrix<span class="br0">[</span>i<span class="br0">]</span><span class="br0">[</span>j<span class="br0">]</span> <span class="sy0">=</span> matrix<span class="br0">[</span>i<span class="br0">]</span><span class="br0">[</span>j<span class="br0">]</span> <span class="sy0">+</span> array<span class="br0">[</span>j<span class="br0">]</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">return</span> tmp_matrix<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">else</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">return</span> <span class="kw4">nil</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; <span class="kw1">function</span> tikzcube<span class="br0">(</span>x<span class="sy0">,</span> y<span class="sy0">,</span> z<span class="sy0">,</span> color<span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> side_1 <span class="sy0">=</span> <span class="br0">{</span><span class="br0">{</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">}</span><span class="sy0">,</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">{</span><span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">}</span><span class="sy0">,</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">{</span><span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">}</span><span class="sy0">,</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">{</span><span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">}</span><span class="br0">}</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> side_2 <span class="sy0">=</span> <span class="br0">{</span><span class="br0">{</span><span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">}</span><span class="sy0">,</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">{</span><span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="br0">}</span><span class="sy0">,</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">{</span><span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="br0">}</span><span class="sy0">,</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">{</span><span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">}</span><span class="br0">}</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> side_3 <span class="sy0">=</span> <span class="br0">{</span><span class="br0">{</span><span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">}</span><span class="sy0">,</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">{</span><span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">}</span><span class="sy0">,</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">{</span><span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="br0">}</span><span class="sy0">,</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">{</span><span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="br0">}</span><span class="br0">}</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> side_4 <span class="sy0">=</span> <span class="br0">{</span><span class="br0">{</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">}</span><span class="sy0">,</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">{</span><span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">}</span><span class="sy0">,</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">{</span><span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="br0">}</span><span class="sy0">,</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">{</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="br0">}</span><span class="br0">}</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> side_5 <span class="sy0">=</span> <span class="br0">{</span><span class="br0">{</span><span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">}</span><span class="sy0">,</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">{</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">}</span><span class="sy0">,</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">{</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="br0">}</span><span class="sy0">,</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">{</span><span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="br0">}</span><span class="br0">}</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> side_6 <span class="sy0">=</span> <span class="br0">{</span><span class="br0">{</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="br0">}</span><span class="sy0">,</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">{</span><span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="br0">}</span><span class="sy0">,</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">{</span><span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="br0">}</span><span class="sy0">,</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">{</span><span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="br0">}</span><span class="br0">}</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> cube_sides <span class="sy0">=</span> <span class="br0">{</span>side_1<span class="sy0">,</span> side_2<span class="sy0">,</span> side_3<span class="sy0">,</span> side_4<span class="sy0">,</span> side_5<span class="sy0">,</span> side_6<span class="br0">}</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> tex_cube <span class="sy0">=</span> <span class="st0">""</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> i <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">#</span>cube_sides <span class="kw1">do</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex_cube <span class="sy0">=</span> tex_cube <span class="sy0">..</span> <span class="st0">"<span class="es1">\\</span>draw[ultra thin, fill="</span> <span class="sy0">..</span> color <span class="sy0">..</span> <span class="st0">"] "</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> current_side <span class="sy0">=</span> matrix_scalar_multiplication<span class="br0">(</span>cube_sides<span class="br0">[</span>i<span class="br0">]</span><span class="sy0">,</span> <span class="nu0">0.5</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; current_side <span class="sy0">=</span> shift_coordinates<span class="br0">(</span>current_side<span class="sy0">,</span> <span class="br0">{</span>x<span class="sy0">,</span> y<span class="sy0">,</span> z<span class="br0">}</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> current_side_rows <span class="sy0">=</span> <span class="sy0">#</span>current_side<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> current_side_cols <span class="sy0">=</span> <span class="sy0">#</span>current_side<span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> j <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">,</span> current_side_rows <span class="kw1">do</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> k <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">,</span> current_side_cols <span class="kw1">do</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span> k <span class="sy0">==</span> <span class="nu0">1</span> <span class="kw1">then</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex_cube <span class="sy0">=</span> tex_cube <span class="sy0">..</span> <span class="st0">"("</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex_cube <span class="sy0">=</span> tex_cube <span class="sy0">..</span> current_side<span class="br0">[</span>j<span class="br0">]</span><span class="br0">[</span>k<span class="br0">]</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span> k <span class="sy0">~=</span> current_side_cols <span class="kw1">then</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex_cube <span class="sy0">=</span> tex_cube <span class="sy0">..</span> <span class="st0">", "</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">else</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex_cube <span class="sy0">=</span> tex_cube <span class="sy0">..</span> <span class="st0">") -- "</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex_cube <span class="sy0">=</span> tex_cube <span class="sy0">..</span> <span class="st0">"cycle;"</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span>tex_cube<span class="br0">)</span><br>
                                                    &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; <span class="kw1">function</span> draw_head<span class="br0">(</span>x_pos<span class="sy0">,</span> y_pos<span class="sy0">,</span> z_pos<span class="sy0">,</span> colors_array<span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> x <span class="sy0">=</span> x_pos<span class="sy0">,</span> x_pos <span class="sy0">+</span> <span class="nu0">7</span><span class="sy0">,</span> <span class="nu0">1</span> <span class="kw1">do</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> y <span class="sy0">=</span> y_pos<span class="sy0">,</span> y_pos <span class="sy0">+</span> <span class="nu0">7</span><span class="sy0">,</span> <span class="nu0">1</span> <span class="kw1">do</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> z <span class="sy0">=</span> z_pos<span class="sy0">,</span> z_pos <span class="sy0">+</span> <span class="nu0">7</span><span class="sy0">,</span> <span class="nu0">1</span> <span class="kw1">do</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span> x <span class="sy0">==</span> x_pos <span class="kw2">or</span> x <span class="sy0">==</span> x_pos <span class="sy0">+</span> <span class="nu0">7</span> <span class="kw2">or</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; y <span class="sy0">==</span> y_pos <span class="kw2">or</span> y <span class="sy0">==</span> y_pos <span class="sy0">+</span> <span class="nu0">7</span> <span class="kw2">or</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; z <span class="sy0">==</span> z_pos <span class="kw2">or</span> z <span class="sy0">==</span> z_pos <span class="sy0">+</span> <span class="nu0">7</span> <span class="kw1">then</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> color_index <span class="sy0">=</span> <span class="kw3">math.random</span><span class="br0">(</span><span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">#</span>colors_array <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tikzcube<span class="br0">(</span>x<span class="sy0">,</span> y<span class="sy0">,</span> z<span class="sy0">,</span> colors_array<span class="br0">[</span>color_index<span class="br0">]</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span> x <span class="sy0">==</span> x_pos <span class="sy0">+</span> <span class="nu0">7</span> <span class="kw2">and</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">(</span>z <span class="sy0">==</span> z_pos <span class="sy0">+</span> <span class="nu0">4</span> <span class="kw2">and</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">(</span>y <span class="sy0">==</span> y_pos <span class="sy0">+</span> <span class="nu0">2</span> <span class="kw2">or</span> y <span class="sy0">==</span> y_pos <span class="sy0">+</span> <span class="nu0">5</span><span class="br0">)</span><span class="br0">)</span> <span class="kw2">or</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">(</span>z <span class="sy0">==</span> z_pos <span class="sy0">+</span> <span class="nu0">2</span> <span class="kw2">and</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">(</span>y <span class="sy0">==</span> y_pos <span class="sy0">+</span> <span class="nu0">3</span> <span class="kw2">or</span> y <span class="sy0">==</span> y_pos <span class="sy0">+</span> <span class="nu0">4</span><span class="br0">)</span><span class="br0">)</span> <span class="kw2">or</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">(</span>z <span class="sy0">==</span> z_pos <span class="sy0">+</span> <span class="nu0">1</span> <span class="kw2">and</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">(</span>y <span class="sy0">&gt;</span> <span class="nu0">1</span> <span class="kw2">and</span> y <span class="sy0">&lt;</span> <span class="nu0">6</span><span class="br0">)</span><span class="br0">)</span> <span class="kw1">then</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tikzcube<span class="br0">(</span>x<span class="sy0">,</span> y<span class="sy0">,</span> z<span class="sy0">,</span> <span class="st0">"black"</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span> x <span class="sy0">==</span> x_pos <span class="sy0">+</span> <span class="nu0">7</span> <span class="kw2">and</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">(</span><span class="br0">(</span>z <span class="sy0">==</span> z_pos <span class="sy0">+</span> <span class="nu0">5</span> <span class="kw2">and</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">(</span><span class="br0">(</span>y <span class="sy0">&gt;</span> y_pos <span class="kw2">and</span> y <span class="sy0">&lt;</span> y_pos <span class="sy0">+</span> <span class="nu0">3</span><span class="br0">)</span> <span class="kw2">or</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">(</span>y <span class="sy0">&gt;</span> y_pos <span class="sy0">+</span> <span class="nu0">4</span> <span class="kw2">and</span> y <span class="sy0">&lt;</span> y_pos <span class="sy0">+</span> <span class="nu0">7</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span> <span class="kw2">or</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">(</span>z <span class="sy0">==</span> z_pos <span class="sy0">+</span> <span class="nu0">4</span> <span class="kw2">and</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">(</span>y <span class="sy0">==</span> y_pos <span class="sy0">+</span> <span class="nu0">1</span> <span class="kw2">or</span> y <span class="sy0">==</span> y_pos <span class="sy0">+</span> <span class="nu0">6</span><span class="br0">)</span><span class="br0">)</span> <span class="kw2">or</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">(</span>z <span class="sy0">==</span> z_pos <span class="sy0">+</span> <span class="nu0">3</span> <span class="kw2">and</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">(</span>y <span class="sy0">==</span> y_pos <span class="sy0">+</span> <span class="nu0">3</span> <span class="kw2">or</span> y <span class="sy0">==</span> y_pos <span class="sy0">+</span> <span class="nu0">4</span><span class="br0">)</span><span class="br0">)</span> <span class="kw2">or</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">(</span>z <span class="sy0">==</span> z_pos <span class="sy0">+</span> <span class="nu0">2</span> <span class="kw2">and</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">(</span>y <span class="sy0">==</span> y_pos <span class="sy0">+</span> <span class="nu0">2</span> <span class="kw2">or</span> y <span class="sy0">==</span> y_pos <span class="sy0">+</span> <span class="nu0">5</span><span class="br0">)</span><span class="br0">)</span> <span class="kw2">or</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">(</span>z <span class="sy0">==</span> z_pos <span class="kw2">and</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">(</span>y <span class="sy0">==</span> y_pos <span class="sy0">+</span> <span class="nu0">2</span> <span class="kw2">or</span> y <span class="sy0">==</span> y_pos <span class="sy0">+</span> <span class="nu0">5</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span> <span class="kw1">then</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tikzcube<span class="br0">(</span>x<span class="sy0">,</span> y<span class="sy0">,</span> z<span class="sy0">,</span> colors_array<span class="br0">[</span><span class="sy0">#</span>colors_array<span class="br0">]</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; <span class="kw1">function</span> draw_leg<span class="br0">(</span>x_pos<span class="sy0">,</span> y_pos<span class="sy0">,</span> z_pos<span class="sy0">,</span> colors_array<span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> x <span class="sy0">=</span> x_pos<span class="sy0">,</span> x_pos <span class="sy0">+</span> <span class="nu0">3</span><span class="sy0">,</span> <span class="nu0">1</span> <span class="kw1">do</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> y <span class="sy0">=</span> y_pos<span class="sy0">,</span> y_pos <span class="sy0">+</span> <span class="nu0">7</span><span class="sy0">,</span> <span class="nu0">1</span> <span class="kw1">do</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> z <span class="sy0">=</span> z_pos<span class="sy0">,</span> z_pos <span class="sy0">+</span> <span class="nu0">5</span><span class="sy0">,</span> <span class="nu0">1</span> <span class="kw1">do</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span> x <span class="sy0">==</span> x_pos <span class="kw2">or</span> x <span class="sy0">==</span> x_pos <span class="sy0">+</span> <span class="nu0">3</span> <span class="kw2">or</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; y <span class="sy0">==</span> y_pos <span class="kw2">or</span> y <span class="sy0">==</span> y_pos <span class="sy0">+</span> <span class="nu0">7</span> <span class="kw2">or</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; z <span class="sy0">==</span> z_pos <span class="kw2">or</span> z <span class="sy0">==</span> z_pos <span class="sy0">+</span> <span class="nu0">5</span> <span class="kw1">then</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> color_index <span class="sy0">=</span> <span class="kw3">math.random</span><span class="br0">(</span><span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">#</span>colors_array <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tikzcube<span class="br0">(</span>x<span class="sy0">,</span> y<span class="sy0">,</span> z<span class="sy0">,</span> colors_array<span class="br0">[</span>color_index<span class="br0">]</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span> x <span class="sy0">==</span> x_pos <span class="sy0">+</span> <span class="nu0">3</span> <span class="kw2">and</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">(</span><span class="br0">(</span>z <span class="sy0">==</span> z_pos <span class="sy0">+</span> <span class="nu0">1</span> <span class="kw2">and</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">(</span>y <span class="sy0">==</span> y_pos <span class="kw2">or</span> y <span class="sy0">==</span> y_pos <span class="sy0">+</span> <span class="nu0">2</span> <span class="kw2">or</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; y <span class="sy0">==</span> y_pos <span class="sy0">+</span> <span class="nu0">4</span> <span class="kw2">or</span> y <span class="sy0">==</span> y_pos <span class="sy0">+</span> <span class="nu0">6</span><span class="br0">)</span><span class="br0">)</span> <span class="kw2">or</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">(</span>z <span class="sy0">==</span> z_pos <span class="kw2">and</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">(</span>y <span class="sy0">==</span> y_pos <span class="sy0">+</span> <span class="nu0">1</span> <span class="kw2">or</span> y <span class="sy0">==</span> y_pos <span class="sy0">+</span> <span class="nu0">3</span> <span class="kw2">or</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; y <span class="sy0">==</span> y_pos <span class="sy0">+</span> <span class="nu0">5</span> <span class="kw2">or</span> y <span class="sy0">==</span> y_pos <span class="sy0">+</span> <span class="nu0">7</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span> <span class="kw1">then</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tikzcube<span class="br0">(</span>x<span class="sy0">,</span> y<span class="sy0">,</span> z<span class="sy0">,</span> colors_array<span class="br0">[</span><span class="sy0">#</span>colors_array<span class="br0">]</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span> x <span class="sy0">==</span> x_pos <span class="sy0">+</span> <span class="nu0">3</span> <span class="kw2">and</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">(</span><span class="br0">(</span>z <span class="sy0">==</span> z_pos <span class="sy0">+</span> <span class="nu0">1</span> <span class="kw2">and</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">(</span>y <span class="sy0">==</span> y_pos <span class="sy0">+</span> <span class="nu0">1</span> <span class="kw2">or</span> y <span class="sy0">==</span> y_pos <span class="sy0">+</span> <span class="nu0">3</span> <span class="kw2">or</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; y <span class="sy0">==</span> y_pos <span class="sy0">+</span> <span class="nu0">5</span> <span class="kw2">or</span> y <span class="sy0">==</span> y_pos <span class="sy0">+</span> <span class="nu0">7</span><span class="br0">)</span><span class="br0">)</span> <span class="kw2">or</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">(</span>z <span class="sy0">==</span> z_pos <span class="kw2">and</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">(</span>y <span class="sy0">==</span> y_pos <span class="kw2">or</span> y <span class="sy0">==</span> y_pos <span class="sy0">+</span> <span class="nu0">2</span> <span class="kw2">or</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; y <span class="sy0">==</span> y_pos <span class="sy0">+</span> <span class="nu0">4</span> <span class="kw2">or</span> y <span class="sy0">==</span> y_pos <span class="sy0">+</span> <span class="nu0">6</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span> <span class="kw1">then</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tikzcube<span class="br0">(</span>x<span class="sy0">,</span> y<span class="sy0">,</span> z<span class="sy0">,</span> <span class="st0">"black"</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; <span class="kw1">function</span> draw_bodypart<span class="br0">(</span>x_pos<span class="sy0">,</span> y_pos<span class="sy0">,</span> z_pos<span class="sy0">,</span> x_length<span class="sy0">,</span> y_length<span class="sy0">,</span> z_length<span class="sy0">,</span> colors_array<span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> color<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> x <span class="sy0">=</span> x_pos<span class="sy0">,</span> x_pos <span class="sy0">+</span> x_length <span class="sy0">-</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span> <span class="kw1">do</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> y <span class="sy0">=</span> y_pos<span class="sy0">,</span> y_pos <span class="sy0">+</span> y_length <span class="sy0">-</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span> <span class="kw1">do</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> z <span class="sy0">=</span> z_pos<span class="sy0">,</span> z_pos <span class="sy0">+</span> z_length <span class="sy0">-</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span> <span class="kw1">do</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span> x <span class="sy0">==</span> x_pos <span class="kw2">or</span> x <span class="sy0">==</span> x_pos <span class="sy0">+</span> x_length <span class="sy0">-</span> <span class="nu0">1</span> <span class="kw2">or</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; y <span class="sy0">==</span> y_pos <span class="kw2">or</span> y <span class="sy0">==</span> y_pos <span class="sy0">+</span> y_length <span class="sy0">-</span> <span class="nu0">1</span> <span class="kw2">or</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; z <span class="sy0">==</span> z_pos <span class="kw2">or</span> z <span class="sy0">==</span> z_pos <span class="sy0">+</span> z_length <span class="sy0">-</span> <span class="nu0">1</span> <span class="kw1">then</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> color_index <span class="sy0">=</span> <span class="kw3">math.random</span><span class="br0">(</span><span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">#</span>colors_array<span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tikzcube<span class="br0">(</span>x<span class="sy0">,</span> y<span class="sy0">,</span> z<span class="sy0">,</span> colors_array<span class="br0">[</span>color_index<span class="br0">]</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; <span class="kw1">function</span> draw_creeper<span class="br0">(</span>x_rotation<span class="sy0">,</span> z_rotation<span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> creeper_colors <span class="sy0">=</span> <span class="br0">{</span><span class="st0">"creeper_white"</span><span class="sy0">,</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"creeper_lightgreen"</span><span class="sy0">,</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"creeper_green"</span><span class="sy0">,</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"creeper_darkgreen"</span><span class="br0">}</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span><span class="st0">"<span class="es1">\\</span>tdplotsetmaincoords{"</span> <span class="sy0">..</span> x_rotation <span class="sy0">..</span> <span class="st0">"}{"</span> <span class="sy0">..</span> z_rotation <span class="sy0">..</span> <span class="st0">"}"</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span><span class="st0">"<span class="es1">\\</span>begin{tikzpicture}[tdplot_main_coords]"</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw3">math.randomseed</span><span class="br0">(</span><span class="kw3">os.time</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; draw_leg<span class="br0">(</span><span class="sy0">-</span><span class="nu0">2</span><span class="sy0">,</span> <span class="nu0">0</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">18</span><span class="sy0">,</span> creeper_colors<span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; draw_leg<span class="br0">(</span><span class="nu0">6</span><span class="sy0">,</span> <span class="nu0">0</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">18</span><span class="sy0">,</span> creeper_colors<span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; draw_bodypart<span class="br0">(</span><span class="nu0">2</span><span class="sy0">,</span> <span class="nu0">0</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">12</span><span class="sy0">,</span> <span class="nu0">4</span><span class="sy0">,</span> <span class="nu0">8</span><span class="sy0">,</span> <span class="nu0">12</span><span class="sy0">,</span> creeper_colors<span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; draw_head<span class="br0">(</span><span class="nu0">0</span><span class="sy0">,</span> <span class="nu0">0</span><span class="sy0">,</span> <span class="nu0">0</span><span class="sy0">,</span> creeper_colors<span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="co1">-- draw_coordinate_system()</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span><span class="st0">"<span class="es1">\\</span>end{tikzpicture}"</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    \<span class="kw1">end</span><span class="br0">{</span>luacode<span class="sy0">*</span><span class="br0">}</span><br>
                                                    <br>
                                                    \begin<span class="br0">{</span>document<span class="br0">}</span><br>
                                                    \luadirect<span class="br0">{</span>draw_creeper<span class="br0">(</span><span class="nu0">66</span><span class="sy0">,</span> <span class="nu0">135</span><span class="br0">)</span><span class="br0">}</span><br>
                                                    \<span class="kw1">end</span><span class="br0">{</span>document<span class="br0">}</span>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="post_tags clear">
                                <ul>
                                    <li>
                                        <a href="../indie/index.html" rel="tag">indie</a>
                                    </li>
                                    <li>
                                        <a href="../rajz/index.html" rel="tag">rajz</a>
                                    </li>
                                    <li>
                                        <a href="index.html" rel="tag">TeX/LaTeX</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="clear post-8535 post type-post status-publish format-standard hentry category-alkotunk category-jatek category-szoftver tag-indie tag-rajz tag-tex-latex" id="post_8535">
                        <div class="post_meta">
                            <h2>
                                <a href="../../index.html%3Fp=8535.html" title="Drawing an Enderman in LaTeX" rel="bookmark">Drawing an Enderman in LaTeX</a>
                            </h2>
                            <div class="post_data">
                                <div class="post_author">
                                    Írta: <a href="../../index.html" title="szantaii honlapjának megtekintése" rel="author external">szantaii</a>
                                </div>
                                <div class="post_date">
                                    2014. július 20. 9:53
                                </div>
                                <div class="post_categories">
                                    <a href="../../category/alkotunk/index.html" rel="category tag">alkotunk</a>, <a href="../../category/jatek/index.html" rel="category tag">játék</a>, <a href="../../category/szoftver/index.html" rel="category tag">szoftver</a>
                                </div>
                            </div>
                        </div>
                        <div class="post_content">
                            <p>
                                In the last couple of months I’ve watched some videos of Achievement Hunter’s <a href="https://www.youtube.com/playlist?list=PL1cXh4tWqmsEQPeLEJ5V3k5knt-X9k043" title="Let's Play Minecraft - YouTube">Let’s Play Minecraft</a> videos where were some encounters with <a href="https://minecraft.fandom.com/wiki/Enderman" title="Enderman - Minecraft Wiki">Endermen</a>. I was really fascinated by these creatures since they can teleport, demand respect, mysterious, etc.
                            </p>
                            <p>
                                I have been “playing” with LaTeX, especially with LuaTeX, recently, and I wanted to make a 3D-like picture. So I have chosen <a href="https://www.ctan.org/pkg/tikz-3dplot" title="CTAN: Package tikz-3dplot"><code class="codecolorer text dawn"><span class="text">tikz‑3dplot</span></code></a> and LuaTeX to draw an Enderman. (I think this is totally drawable with pure TikZ (syntax), therefore compilable with <code class="codecolorer text dawn"><span class="text">pdflatex</span></code>, etc., but I found making this using LuaTeX much more simple.)
                            </p>
                            <p>
                                <a href="../../wp-content/uploads/2014/07/enderman_from_wiki.png"><img src="../../wp-content/uploads/2014/07/enderman_from_wiki-350x569.png" alt="Enderman" width="350" height="569" class="alignnone size-medium wp-image-8537" srcset="../../wp-content/uploads/2014/07/enderman_from_wiki-350x569.png 350w, ../../wp-content/uploads/2014/07/enderman_from_wiki-225x366.png 225w, ../../wp-content/uploads/2014/07/enderman_from_wiki.png 629w" sizes="(max-width: 350px) 100vw, 350px"></a>&nbsp;<a href="../../wp-content/uploads/2014/07/enderman_luatex.png"><img src="../../wp-content/uploads/2014/07/enderman_luatex-350x630.png" alt="Enderman" width="350" height="630" class="alignnone size-medium wp-image-8538" srcset="../../wp-content/uploads/2014/07/enderman_luatex-350x630.png 350w, ../../wp-content/uploads/2014/07/enderman_luatex-225x405.png 225w, ../../wp-content/uploads/2014/07/enderman_luatex.png 556w" sizes="(max-width: 350px) 100vw, 350px"></a>
                            </p>
                            <p>
                                Image source (left): <a href="#" title="File:Enderman normal.png - Minecraft Wiki">File:Enderman normal.png – Minecraft Wiki</a>
                            </p>
                            <p>
                                My drawing (right) is not accurate by many aspects, but I’ve achieved what I wanted.
                            </p>
                            <div class="codecolorer-container lua dawn" style="overflow:auto;white-space:nowrap;height:400px;">
                                <table cellspacing="0" cellpadding="0">
                                    <tbody>
                                        <tr>
                                            <td class="line-numbers">
                                                <div>
                                                    1<br>
                                                    2<br>
                                                    3<br>
                                                    4<br>
                                                    5<br>
                                                    6<br>
                                                    7<br>
                                                    8<br>
                                                    9<br>
                                                    10<br>
                                                    11<br>
                                                    12<br>
                                                    13<br>
                                                    14<br>
                                                    15<br>
                                                    16<br>
                                                    17<br>
                                                    18<br>
                                                    19<br>
                                                    20<br>
                                                    21<br>
                                                    22<br>
                                                    23<br>
                                                    24<br>
                                                    25<br>
                                                    26<br>
                                                    27<br>
                                                    28<br>
                                                    29<br>
                                                    30<br>
                                                    31<br>
                                                    32<br>
                                                    33<br>
                                                    34<br>
                                                    35<br>
                                                    36<br>
                                                    37<br>
                                                    38<br>
                                                    39<br>
                                                    40<br>
                                                    41<br>
                                                    42<br>
                                                    43<br>
                                                    44<br>
                                                    45<br>
                                                    46<br>
                                                    47<br>
                                                    48<br>
                                                    49<br>
                                                    50<br>
                                                    51<br>
                                                    52<br>
                                                    53<br>
                                                    54<br>
                                                    55<br>
                                                    56<br>
                                                    57<br>
                                                    58<br>
                                                    59<br>
                                                    60<br>
                                                    61<br>
                                                    62<br>
                                                    63<br>
                                                    64<br>
                                                    65<br>
                                                    66<br>
                                                    67<br>
                                                    68<br>
                                                    69<br>
                                                    70<br>
                                                    71<br>
                                                    72<br>
                                                    73<br>
                                                    74<br>
                                                    75<br>
                                                    76<br>
                                                    77<br>
                                                    78<br>
                                                    79<br>
                                                    80<br>
                                                    81<br>
                                                    82<br>
                                                    83<br>
                                                    84<br>
                                                    85<br>
                                                    86<br>
                                                    87<br>
                                                    88<br>
                                                    89<br>
                                                    90<br>
                                                    91<br>
                                                    92<br>
                                                    93<br>
                                                    94<br>
                                                    95<br>
                                                    96<br>
                                                    97<br>
                                                    98<br>
                                                    99<br>
                                                    100<br>
                                                    101<br>
                                                    102<br>
                                                    103<br>
                                                    104<br>
                                                    105<br>
                                                    106<br>
                                                    107<br>
                                                    108<br>
                                                    109<br>
                                                    110<br>
                                                    111<br>
                                                    112<br>
                                                    113<br>
                                                    114<br>
                                                    115<br>
                                                    116<br>
                                                    117<br>
                                                    118<br>
                                                    119<br>
                                                    120<br>
                                                    121<br>
                                                    122<br>
                                                    123<br>
                                                    124<br>
                                                    125<br>
                                                    126<br>
                                                    127<br>
                                                    128<br>
                                                    129<br>
                                                    130<br>
                                                    131<br>
                                                    132<br>
                                                    133<br>
                                                    134<br>
                                                    135<br>
                                                    136<br>
                                                    137<br>
                                                    138<br>
                                                    139<br>
                                                    140<br>
                                                    141<br>
                                                    142<br>
                                                    143<br>
                                                    144<br>
                                                    145<br>
                                                    146<br>
                                                    147<br>
                                                    148<br>
                                                    149<br>
                                                    150<br>
                                                    151<br>
                                                    152<br>
                                                    153<br>
                                                    154<br>
                                                    155<br>
                                                    156<br>
                                                    157<br>
                                                    158<br>
                                                    159<br>
                                                    160<br>
                                                    161<br>
                                                    162<br>
                                                    163<br>
                                                    164<br>
                                                    165<br>
                                                    166<br>
                                                    167<br>
                                                    168<br>
                                                    169<br>
                                                    170<br>
                                                    171<br>
                                                    172<br>
                                                    173<br>
                                                    174<br>
                                                    175<br>
                                                    176<br>
                                                    177<br>
                                                    178<br>
                                                    179<br>
                                                    180<br>
                                                    181<br>
                                                    182<br>
                                                    183<br>
                                                    184<br>
                                                    185<br>
                                                    186<br>
                                                    187<br>
                                                    188<br>
                                                    189<br>
                                                    190<br>
                                                    191<br>
                                                    192<br>
                                                    193<br>
                                                    194<br>
                                                    195<br>
                                                    196<br>
                                                    197<br>
                                                    198<br>
                                                    199<br>
                                                    200<br>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="lua codecolorer">
                                                    <span class="sy0">%</span> Enderman<br>
                                                    <span class="sy0">%</span> Author<span class="sy0">:</span> István Szántai <span class="br0">(</span>szantaii<span class="br0">)</span><br>
                                                    \documentclass<span class="br0">{</span>article<span class="br0">}</span><br>
                                                    <br>
                                                    \usepackage<span class="br0">{</span>luacode<span class="br0">}</span><br>
                                                    <br>
                                                    \usepackage<span class="br0">{</span>xcolor<span class="br0">}</span><br>
                                                    <br>
                                                    \usepackage<span class="br0">{</span>tikz<span class="br0">}</span><br>
                                                    \usepackage<span class="br0">{</span>tikz<span class="sy0">-</span>3dplot<span class="br0">}</span><br>
                                                    <br>
                                                    \usepackage<span class="br0">[</span>active<span class="sy0">,</span> tightpage<span class="br0">]</span><span class="br0">{</span>preview<span class="br0">}</span><br>
                                                    \PreviewEnvironment<span class="br0">{</span>tikzpicture<span class="br0">}</span><br>
                                                    \setlength<span class="br0">{</span>\PreviewBorder<span class="br0">}</span><span class="br0">{</span>1cm<span class="br0">}</span><br>
                                                    <br>
                                                    \definecolor<span class="br0">{</span>endermanblack<span class="br0">}</span><span class="br0">{</span>HTML<span class="br0">}</span><span class="br0">{</span><span class="nu0">000000</span><span class="br0">}</span><br>
                                                    \definecolor<span class="br0">{</span>endermangray<span class="br0">}</span><span class="br0">{</span>HTML<span class="br0">}</span><span class="br0">{</span><span class="nu0">161616</span><span class="br0">}</span><br>
                                                    <span class="sy0">%</span>\definecolor<span class="br0">{</span>endermanpurple<span class="br0">}</span><span class="br0">{</span>HTML<span class="br0">}</span><span class="br0">{</span>CC00FA<span class="br0">}</span><br>
                                                    <span class="sy0">%</span>\definecolor<span class="br0">{</span>endermanlightpurple<span class="br0">}</span><span class="br0">{</span>HTML<span class="br0">}</span><span class="br0">{</span>E079FA<span class="br0">}</span><br>
                                                    \definecolor<span class="br0">{</span>endermanpurple<span class="br0">}</span><span class="br0">{</span>HTML<span class="br0">}</span><span class="br0">{</span>FF9EFF<span class="br0">}</span><br>
                                                    \definecolor<span class="br0">{</span>endermanlightpurple<span class="br0">}</span><span class="br0">{</span>HTML<span class="br0">}</span><span class="br0">{</span>FFC9FF<span class="br0">}</span><br>
                                                    \definecolor<span class="br0">{</span>particlecolor<span class="br0">}</span><span class="br0">{</span>HTML<span class="br0">}</span><span class="br0">{</span>DF4AF8<span class="br0">}</span><br>
                                                    <br>
                                                    \begin<span class="br0">{</span>luacode<span class="sy0">*</span><span class="br0">}</span><br>
                                                    &nbsp; &nbsp; <span class="kw1">function</span> draw_coordinate_system<span class="br0">(</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span><span class="st0">"<span class="es1">\\</span>draw[white!50!gray,thick,-&gt;] (0,0,0) -- "</span> <span class="sy0">..</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"(3,0,0) node[text=white!50!gray,anchor=north east]{$x$};"</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span><span class="st0">"<span class="es1">\\</span>draw[white!50!gray,thick,-&gt;] (0,0,0) -- "</span> <span class="sy0">..</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"(0,3,0) node[text=white!50!gray,anchor=west]{$y$};"</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span><span class="st0">"<span class="es1">\\</span>draw[white!50!gray,thick,-&gt;] (0,0,0) -- "</span> <span class="sy0">..</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"(0,0,3) node[text=white!50!gray,anchor=south]{$z$};"</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; <span class="kw1">function</span> tikzcube<span class="br0">(</span>x<span class="sy0">,</span> y<span class="sy0">,</span> z<span class="sy0">,</span> color<span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="co1">--[[<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; \draw[fill=red] (0.5, 0.5, -0.5) -- (-0.5, 0.5, -0.5) -- (-0.5, -0.5, -0.5) -- (0.5, -0.5, -0.5) -- cycle;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; \draw[fill=red] (-0.5, 0.5, -0.5) -- (-0.5, 0.5, 0.5) -- (-0.5, -0.5, 0.5) -- (-0.5, -0.5, -0.5) -- cycle;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; \draw[fill=red] (-0.5, -0.5, -0.5) -- (0.5, -0.5, -0.5) -- (0.5, -0.5, 0.5) -- (-0.5, -0.5, 0.5) -- cycle;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; \draw[fill=red] (0.5, 0.5, -0.5) -- (-0.5, 0.5, -0.5) -- (-0.5, 0.5, 0.5) -- (0.5, 0.5, 0.5) -- cycle;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; \draw[fill=red] (0.5, -0.5, -0.5) -- (0.5, 0.5, -0.5) -- (0.5, 0.5, 0.5) -- (0.5, -0.5, 0.5) -- cycle;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; \draw[fill=red] (0.5, 0.5, 0.5) -- (-0.5, 0.5, 0.5) -- (-0.5, -0.5, 0.5) -- (0.5, -0.5, 0.5) -- cycle;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; ]]</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> cube <span class="sy0">=</span> <span class="st0">""</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; cube <span class="sy0">=</span> cube <span class="sy0">..</span> <span class="st0">"<span class="es1">\\</span>draw[ultra thin, fill="</span> <span class="sy0">..</span> color <span class="sy0">..</span> <span class="st0">"]"</span> <span class="sy0">..</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"(0.5 + "</span> <span class="sy0">..</span> x <span class="sy0">..</span> <span class="st0">", 0.5 + "</span> <span class="sy0">..</span> y <span class="sy0">..</span> <span class="st0">", -0.5 + "</span> <span class="sy0">..</span> z <span class="sy0">..</span> <span class="st0">") -- "</span> <span class="sy0">..</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"(-0.5 + "</span> <span class="sy0">..</span> x <span class="sy0">..</span> <span class="st0">", 0.5 + "</span> <span class="sy0">..</span> y <span class="sy0">..</span> <span class="st0">", -0.5 + "</span> <span class="sy0">..</span> z <span class="sy0">..</span> <span class="st0">") -- "</span> <span class="sy0">..</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"(-0.5 + "</span> <span class="sy0">..</span> x <span class="sy0">..</span> <span class="st0">", -0.5 + "</span> <span class="sy0">..</span> y <span class="sy0">..</span> <span class="st0">", -0.5 + "</span> <span class="sy0">..</span> z <span class="sy0">..</span> <span class="st0">") -- "</span> <span class="sy0">..</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"(0.5 + "</span> <span class="sy0">..</span> x <span class="sy0">..</span> <span class="st0">", -0.5 + "</span> <span class="sy0">..</span> y <span class="sy0">..</span> <span class="st0">", -0.5 + "</span> <span class="sy0">..</span> z <span class="sy0">..</span> <span class="st0">") -- cycle;"</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; cube <span class="sy0">=</span> cube <span class="sy0">..</span> <span class="st0">"<span class="es1">\\</span>draw[ultra thin, fill="</span> <span class="sy0">..</span> color <span class="sy0">..</span> <span class="st0">"]"</span> <span class="sy0">..</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"(-0.5 + "</span> <span class="sy0">..</span> x <span class="sy0">..</span> <span class="st0">", 0.5 + "</span> <span class="sy0">..</span> y <span class="sy0">..</span> <span class="st0">", -0.5 + "</span> <span class="sy0">..</span> z <span class="sy0">..</span> <span class="st0">") -- "</span> <span class="sy0">..</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"(-0.5 + "</span> <span class="sy0">..</span> x <span class="sy0">..</span> <span class="st0">", 0.5 + "</span> <span class="sy0">..</span> y <span class="sy0">..</span> <span class="st0">", 0.5 + "</span> <span class="sy0">..</span> z <span class="sy0">..</span> <span class="st0">") -- "</span> <span class="sy0">..</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"(-0.5 + "</span> <span class="sy0">..</span> x <span class="sy0">..</span> <span class="st0">", -0.5 + "</span> <span class="sy0">..</span> y <span class="sy0">..</span> <span class="st0">", 0.5 + "</span> <span class="sy0">..</span> z <span class="sy0">..</span> <span class="st0">") -- "</span> <span class="sy0">..</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"(-0.5 + "</span> <span class="sy0">..</span> x <span class="sy0">..</span> <span class="st0">", -0.5 + "</span> <span class="sy0">..</span> y <span class="sy0">..</span> <span class="st0">", -0.5 + "</span> <span class="sy0">..</span> z <span class="sy0">..</span> <span class="st0">") -- cycle;"</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; cube <span class="sy0">=</span> cube <span class="sy0">..</span> <span class="st0">"<span class="es1">\\</span>draw[ultra thin, fill="</span> <span class="sy0">..</span> color <span class="sy0">..</span> <span class="st0">"]"</span> <span class="sy0">..</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"(-0.5 + "</span> <span class="sy0">..</span> x <span class="sy0">..</span> <span class="st0">", -0.5 + "</span> <span class="sy0">..</span> y <span class="sy0">..</span> <span class="st0">", -0.5 + "</span> <span class="sy0">..</span> z <span class="sy0">..</span> <span class="st0">") -- "</span> <span class="sy0">..</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"(0.5 + "</span> <span class="sy0">..</span> x <span class="sy0">..</span> <span class="st0">", -0.5 + "</span> <span class="sy0">..</span> y <span class="sy0">..</span> <span class="st0">", -0.5 + "</span> <span class="sy0">..</span> z <span class="sy0">..</span> <span class="st0">") -- "</span> <span class="sy0">..</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"(0.5 + "</span> <span class="sy0">..</span> x <span class="sy0">..</span> <span class="st0">", -0.5 + "</span> <span class="sy0">..</span> y <span class="sy0">..</span> <span class="st0">", 0.5 + "</span> <span class="sy0">..</span> z <span class="sy0">..</span> <span class="st0">") -- "</span> <span class="sy0">..</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"(-0.5 + "</span> <span class="sy0">..</span> x <span class="sy0">..</span> <span class="st0">", -0.5 + "</span> <span class="sy0">..</span> y <span class="sy0">..</span> <span class="st0">", 0.5 + "</span> <span class="sy0">..</span> z <span class="sy0">..</span> <span class="st0">") -- cycle;"</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; cube <span class="sy0">=</span> cube <span class="sy0">..</span> <span class="st0">"<span class="es1">\\</span>draw[ultra thin, fill="</span> <span class="sy0">..</span> color <span class="sy0">..</span> <span class="st0">"]"</span> <span class="sy0">..</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"(0.5 + "</span> <span class="sy0">..</span> x <span class="sy0">..</span> <span class="st0">", 0.5 + "</span> <span class="sy0">..</span> y <span class="sy0">..</span> <span class="st0">", -0.5 + "</span> <span class="sy0">..</span> z <span class="sy0">..</span> <span class="st0">") -- "</span> <span class="sy0">..</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"(-0.5 + "</span> <span class="sy0">..</span> x <span class="sy0">..</span> <span class="st0">", 0.5 + "</span> <span class="sy0">..</span> y <span class="sy0">..</span> <span class="st0">", -0.5 + "</span> <span class="sy0">..</span> z <span class="sy0">..</span> <span class="st0">") -- "</span> <span class="sy0">..</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"(-0.5 + "</span> <span class="sy0">..</span> x <span class="sy0">..</span> <span class="st0">", 0.5 + "</span> <span class="sy0">..</span> y <span class="sy0">..</span> <span class="st0">", 0.5 + "</span> <span class="sy0">..</span> z <span class="sy0">..</span> <span class="st0">") -- "</span> <span class="sy0">..</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"(0.5 + "</span> <span class="sy0">..</span> x <span class="sy0">..</span> <span class="st0">", 0.5 + "</span> <span class="sy0">..</span> y <span class="sy0">..</span> <span class="st0">", 0.5 + "</span> <span class="sy0">..</span> z <span class="sy0">..</span> <span class="st0">") -- cycle;"</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; cube <span class="sy0">=</span> cube <span class="sy0">..</span> <span class="st0">"<span class="es1">\\</span>draw[ultra thin, fill="</span> <span class="sy0">..</span> color <span class="sy0">..</span> <span class="st0">"]"</span> <span class="sy0">..</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"(0.5 + "</span> <span class="sy0">..</span> x <span class="sy0">..</span> <span class="st0">", -0.5 + "</span> <span class="sy0">..</span> y <span class="sy0">..</span> <span class="st0">", -0.5 + "</span> <span class="sy0">..</span> z <span class="sy0">..</span> <span class="st0">") -- "</span> <span class="sy0">..</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"(0.5 + "</span> <span class="sy0">..</span> x <span class="sy0">..</span> <span class="st0">", 0.5 + "</span> <span class="sy0">..</span> y <span class="sy0">..</span> <span class="st0">", -0.5 + "</span> <span class="sy0">..</span> z <span class="sy0">..</span> <span class="st0">") -- "</span> <span class="sy0">..</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"(0.5 + "</span> <span class="sy0">..</span> x <span class="sy0">..</span> <span class="st0">", 0.5 + "</span> <span class="sy0">..</span> y <span class="sy0">..</span> <span class="st0">", 0.5 + "</span> <span class="sy0">..</span> z <span class="sy0">..</span> <span class="st0">") -- "</span> <span class="sy0">..</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"(0.5 + "</span> <span class="sy0">..</span> x <span class="sy0">..</span> <span class="st0">", -0.5 + "</span> <span class="sy0">..</span> y <span class="sy0">..</span> <span class="st0">", 0.5 + "</span> <span class="sy0">..</span> z <span class="sy0">..</span> <span class="st0">") -- cycle;"</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; cube <span class="sy0">=</span> cube <span class="sy0">..</span> <span class="st0">"<span class="es1">\\</span>draw[ultra thin, fill="</span> <span class="sy0">..</span> color <span class="sy0">..</span> <span class="st0">"]"</span> <span class="sy0">..</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"(0.5 + "</span> <span class="sy0">..</span> x <span class="sy0">..</span> <span class="st0">", 0.5 + "</span> <span class="sy0">..</span> y <span class="sy0">..</span> <span class="st0">", 0.5 + "</span> <span class="sy0">..</span> z <span class="sy0">..</span> <span class="st0">") -- "</span> <span class="sy0">..</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"(-0.5 + "</span> <span class="sy0">..</span> x <span class="sy0">..</span> <span class="st0">", 0.5 + "</span> <span class="sy0">..</span> y <span class="sy0">..</span> <span class="st0">", 0.5 + "</span> <span class="sy0">..</span> z <span class="sy0">..</span> <span class="st0">") -- "</span> <span class="sy0">..</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"(-0.5 + "</span> <span class="sy0">..</span> x <span class="sy0">..</span> <span class="st0">", -0.5 + "</span> <span class="sy0">..</span> y <span class="sy0">..</span> <span class="st0">", 0.5 + "</span> <span class="sy0">..</span> z <span class="sy0">..</span> <span class="st0">") -- "</span> <span class="sy0">..</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"(0.5 + "</span> <span class="sy0">..</span> x <span class="sy0">..</span> <span class="st0">", -0.5 + "</span> <span class="sy0">..</span> y <span class="sy0">..</span> <span class="st0">", 0.5 + "</span> <span class="sy0">..</span> z <span class="sy0">..</span> <span class="st0">") -- cycle;"</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span>cube<span class="br0">)</span><br>
                                                    &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; <span class="kw1">function</span> draw_head<span class="br0">(</span>x_pos<span class="sy0">,</span> y_pos<span class="sy0">,</span> z_pos<span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> color<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> x <span class="sy0">=</span> x_pos<span class="sy0">,</span> x_pos <span class="sy0">+</span> <span class="nu0">7</span><span class="sy0">,</span> <span class="nu0">1</span> <span class="kw1">do</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> y <span class="sy0">=</span> y_pos<span class="sy0">,</span> y_pos <span class="sy0">+</span> <span class="nu0">7</span><span class="sy0">,</span> <span class="nu0">1</span> <span class="kw1">do</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> z <span class="sy0">=</span> z_pos<span class="sy0">,</span> z_pos <span class="sy0">+</span> <span class="nu0">6</span><span class="sy0">,</span> <span class="nu0">1</span> <span class="kw1">do</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span> <span class="br0">(</span>x <span class="sy0">==</span> x_pos <span class="kw2">or</span> x <span class="sy0">==</span> x_pos <span class="sy0">+</span> <span class="nu0">7</span> <span class="kw2">or</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; y <span class="sy0">==</span> y_pos <span class="kw2">or</span> y <span class="sy0">==</span> y_pos <span class="sy0">+</span> <span class="nu0">7</span> <span class="kw2">or</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; z <span class="sy0">==</span> z_pos <span class="kw2">or</span> z <span class="sy0">==</span> z_pos <span class="sy0">+</span> <span class="nu0">6</span><span class="br0">)</span> <span class="kw2">and</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw2">not</span> <span class="br0">(</span>x <span class="sy0">==</span> x_pos <span class="sy0">+</span> <span class="nu0">7</span> <span class="kw2">and</span> y <span class="sy0">&gt;</span> y_pos <span class="kw2">and</span> y <span class="sy0">&lt;</span> y_pos <span class="sy0">+</span> <span class="nu0">7</span> <span class="kw2">and</span> z <span class="sy0">==</span> z_pos<span class="br0">)</span> <span class="kw1">then</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span> x <span class="sy0">==</span> x_pos <span class="sy0">+</span> <span class="nu0">7</span> <span class="kw2">and</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">(</span>y <span class="sy0">==</span> y_pos <span class="kw2">or</span> y <span class="sy0">==</span> y_pos <span class="sy0">+</span> <span class="nu0">2</span> <span class="kw2">or</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; y <span class="sy0">==</span> y_pos <span class="sy0">+</span> <span class="nu0">5</span> <span class="kw2">or</span> y <span class="sy0">==</span> y_pos <span class="sy0">+</span> <span class="nu0">7</span><span class="br0">)</span> <span class="kw2">and</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; z <span class="sy0">==</span> z_pos <span class="sy0">+</span> <span class="nu0">2</span> <span class="kw1">then</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tikzcube<span class="br0">(</span>x<span class="sy0">,</span> y<span class="sy0">,</span> z<span class="sy0">,</span> <span class="st0">"endermanlightpurple"</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">elseif</span> x <span class="sy0">==</span> x_pos <span class="sy0">+</span> <span class="nu0">7</span> <span class="kw2">and</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">(</span>y <span class="sy0">==</span> y_pos <span class="sy0">+</span> <span class="nu0">1</span> <span class="kw2">or</span> y <span class="sy0">==</span> y_pos <span class="sy0">+</span> <span class="nu0">6</span><span class="br0">)</span> <span class="kw2">and</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; z <span class="sy0">==</span> z_pos <span class="sy0">+</span> <span class="nu0">2</span> <span class="kw1">then</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tikzcube<span class="br0">(</span>x<span class="sy0">,</span> y<span class="sy0">,</span> z<span class="sy0">,</span> <span class="st0">"endermanpurple"</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">else</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span> <span class="kw3">math.random</span><span class="br0">(</span><span class="nu0">0</span><span class="sy0">,</span> <span class="nu0">8</span><span class="br0">)</span> <span class="sy0">&lt;</span> <span class="nu0">6</span> <span class="kw1">then</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; color <span class="sy0">=</span> <span class="st0">"endermangray"</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">else</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; color <span class="sy0">=</span> <span class="st0">"endermanblack"</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tikzcube<span class="br0">(</span>x<span class="sy0">,</span> y<span class="sy0">,</span> z<span class="sy0">,</span> color<span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; <span class="kw1">function</span> draw_bodypart<span class="br0">(</span>x_pos<span class="sy0">,</span> y_pos<span class="sy0">,</span> z_pos<span class="sy0">,</span> x_length<span class="sy0">,</span> y_length<span class="sy0">,</span> z_length<span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> color<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> x <span class="sy0">=</span> x_pos<span class="sy0">,</span> x_pos <span class="sy0">+</span> x_length <span class="sy0">-</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span> <span class="kw1">do</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> y <span class="sy0">=</span> y_pos<span class="sy0">,</span> y_pos <span class="sy0">+</span> y_length <span class="sy0">-</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span> <span class="kw1">do</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> z <span class="sy0">=</span> z_pos<span class="sy0">,</span> z_pos <span class="sy0">+</span> z_length <span class="sy0">-</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span> <span class="kw1">do</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span> x <span class="sy0">==</span> x_pos <span class="kw2">or</span> x <span class="sy0">==</span> x_pos <span class="sy0">+</span> x_length <span class="sy0">-</span> <span class="nu0">1</span> <span class="kw2">or</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; y <span class="sy0">==</span> y_pos <span class="kw2">or</span> y <span class="sy0">==</span> y_pos <span class="sy0">+</span> y_length <span class="sy0">-</span> <span class="nu0">1</span> <span class="kw2">or</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; z <span class="sy0">==</span> z_pos <span class="kw2">or</span> z <span class="sy0">==</span> z_pos <span class="sy0">+</span> z_length <span class="sy0">-</span> <span class="nu0">1</span> <span class="kw1">then</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span> <span class="kw3">math.random</span><span class="br0">(</span><span class="nu0">0</span><span class="sy0">,</span> <span class="nu0">8</span><span class="br0">)</span> <span class="sy0">&lt;</span> <span class="nu0">6</span> <span class="kw1">then</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; color <span class="sy0">=</span> <span class="st0">"endermangray"</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">else</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; color <span class="sy0">=</span> <span class="st0">"endermanblack"</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tikzcube<span class="br0">(</span>x<span class="sy0">,</span> y<span class="sy0">,</span> z<span class="sy0">,</span> color<span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; <span class="kw1">function</span> draw_particles<span class="br0">(</span>x_min<span class="sy0">,</span> x_max<span class="sy0">,</span> y_min<span class="sy0">,</span> y_max<span class="sy0">,</span> z_min<span class="sy0">,</span> z_max<span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> x<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> y<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> z<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> black_amount<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> particle_size<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> particle_scale<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> particle_count <span class="sy0">=</span> <span class="kw3">math.random</span><span class="br0">(</span><span class="nu0">30</span><span class="sy0">,</span> <span class="nu0">40</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> particle<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> i <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">,</span> particle_count<span class="sy0">,</span> <span class="nu0">1</span> <span class="kw1">do</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; x <span class="sy0">=</span> <span class="kw3">math.random</span><span class="br0">(</span>x_min<span class="sy0">,</span> x_max<span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; y <span class="sy0">=</span> <span class="kw3">math.random</span><span class="br0">(</span>y_min<span class="sy0">,</span> y_max<span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; z <span class="sy0">=</span> <span class="kw3">math.random</span><span class="br0">(</span>z_min<span class="sy0">,</span> z_max<span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; particle_size <span class="sy0">=</span> <span class="kw3">math.random</span><span class="br0">(</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">8</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; particle_scale <span class="sy0">=</span> <span class="kw3">math.random</span><span class="br0">(</span><span class="nu0">20</span><span class="sy0">,</span> <span class="nu0">100</span><span class="br0">)</span> <span class="sy0">/</span> <span class="nu0">100</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; black_amount <span class="sy0">=</span> <span class="kw3">math.random</span><span class="br0">(</span><span class="nu0">0</span><span class="sy0">,</span> <span class="nu0">25</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span><span class="st0">"<span class="es1">\\</span>tdplottransformmainscreen{"</span> <span class="sy0">..</span> x <span class="sy0">..</span> <span class="st0">"}{"</span> <span class="sy0">..</span> y <span class="sy0">..</span> <span class="st0">"}{"</span> <span class="sy0">..</span> z <span class="sy0">..</span> <span class="st0">"}"</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">,</span> particle_size <span class="sy0">-</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span> <span class="kw1">do</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> j <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">,</span> particle_size <span class="sy0">-</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span> <span class="kw1">do</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span> <span class="kw3">math.random</span><span class="br0">(</span><span class="nu0">0</span><span class="sy0">,</span> <span class="nu0">1</span><span class="br0">)</span> <span class="sy0">==</span> <span class="nu0">0</span> <span class="kw2">and</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">(</span><span class="br0">(</span>i <span class="sy0">~=</span> <span class="nu0">0</span> <span class="kw2">and</span> j <span class="sy0">~=</span> <span class="nu0">0</span><span class="br0">)</span> <span class="kw2">and</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">(</span>i <span class="sy0">~=</span> particle_size <span class="sy0">-</span> <span class="nu0">1</span> <span class="kw2">and</span> j <span class="sy0">~=</span> <span class="nu0">0</span><span class="br0">)</span> <span class="kw2">and</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">(</span>j <span class="sy0">~=</span> particle_size <span class="sy0">-</span> <span class="nu0">1</span> <span class="kw2">and</span> i <span class="sy0">~=</span> <span class="nu0">0</span><span class="br0">)</span> <span class="kw2">and</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">(</span>i <span class="sy0">~=</span> particle_size <span class="sy0">-</span> <span class="nu0">1</span> <span class="kw2">and</span> j <span class="sy0">~=</span> particle_size <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">)</span><span class="br0">)</span> <span class="kw1">then</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; particle <span class="sy0">=</span> <span class="st0">"<span class="es1">\\</span>filldraw[black!"</span> <span class="sy0">..</span> black_amount <span class="sy0">..</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"!particlecolor, tdplot_screen_coords] ("</span> <span class="sy0">..</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; i <span class="sy0">*</span> particle_scale <span class="sy0">*</span> <span class="nu0">0.25</span> <span class="sy0">..</span> <span class="st0">"+<span class="es1">\\</span>tdplotresx, "</span> <span class="sy0">..</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; j <span class="sy0">*</span> particle_scale <span class="sy0">*</span> <span class="nu0">0.25</span> <span class="sy0">..</span> <span class="st0">"+<span class="es1">\\</span>tdplotresy) "</span> <span class="sy0">..</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"rectangle +("</span> <span class="sy0">..</span> particle_scale <span class="sy0">..</span> <span class="st0">"*0.25, "</span> <span class="sy0">..</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; particle_scale <span class="sy0">..</span> <span class="st0">"*0.25);"</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span>particle<span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; <span class="kw1">function</span> draw_enderman<span class="br0">(</span>x_rotation<span class="sy0">,</span> z_rotation<span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span><span class="st0">"<span class="es1">\\</span>tdplotsetmaincoords{"</span> <span class="sy0">..</span> x_rotation <span class="sy0">..</span> <span class="st0">"}{"</span> <span class="sy0">..</span> z_rotation <span class="sy0">..</span> <span class="st0">"}"</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span><span class="st0">"<span class="es1">\\</span>begin{tikzpicture}[tdplot_main_coords]"</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw3">math.randomseed</span><span class="br0">(</span><span class="kw3">os.time</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; draw_bodypart<span class="br0">(</span><span class="nu0">3</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">2</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">30</span><span class="sy0">,</span> <span class="nu0">2</span><span class="sy0">,</span> <span class="nu0">2</span><span class="sy0">,</span> <span class="nu0">30</span><span class="br0">)</span> <span class="co1">-- right arm</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; draw_bodypart<span class="br0">(</span><span class="nu0">3</span><span class="sy0">,</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">42</span><span class="sy0">,</span> <span class="nu0">2</span><span class="sy0">,</span> <span class="nu0">2</span><span class="sy0">,</span> <span class="nu0">30</span><span class="br0">)</span> <span class="co1">-- right leg</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; draw_bodypart<span class="br0">(</span><span class="nu0">3</span><span class="sy0">,</span> <span class="nu0">5</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">42</span><span class="sy0">,</span> <span class="nu0">2</span><span class="sy0">,</span> <span class="nu0">2</span><span class="sy0">,</span> <span class="nu0">30</span><span class="br0">)</span> <span class="co1">-- left leg</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; draw_bodypart<span class="br0">(</span><span class="nu0">2</span><span class="sy0">,</span> <span class="nu0">0</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">12</span><span class="sy0">,</span> <span class="nu0">4</span><span class="sy0">,</span> <span class="nu0">8</span><span class="sy0">,</span> <span class="nu0">12</span><span class="br0">)</span> <span class="co1">-- body</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; draw_bodypart<span class="br0">(</span><span class="nu0">3</span><span class="sy0">,</span> <span class="nu0">8</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">30</span><span class="sy0">,</span> <span class="nu0">2</span><span class="sy0">,</span> <span class="nu0">2</span><span class="sy0">,</span> <span class="nu0">30</span><span class="br0">)</span><span class="co1">-- left arm</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; draw_head<span class="br0">(</span><span class="nu0">0</span><span class="sy0">,</span> <span class="nu0">0</span><span class="sy0">,</span> <span class="nu0">0</span><span class="br0">)</span> <span class="co1">-- head</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; draw_particles<span class="br0">(</span><span class="sy0">-</span><span class="nu0">10</span><span class="sy0">,</span> <span class="nu0">10</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">10</span><span class="sy0">,</span> <span class="nu0">10</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">44</span><span class="sy0">,</span> <span class="nu0">10</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="co1">-- draw_coordinate_system()</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span><span class="st0">"<span class="es1">\\</span>end{tikzpicture}"</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    \<span class="kw1">end</span><span class="br0">{</span>luacode<span class="sy0">*</span><span class="br0">}</span><br>
                                                    <br>
                                                    \begin<span class="br0">{</span>document<span class="br0">}</span><br>
                                                    \luadirect<span class="br0">{</span>draw_enderman<span class="br0">(</span><span class="nu0">70</span><span class="sy0">,</span> <span class="nu0">130</span><span class="br0">)</span><span class="br0">}</span><br>
                                                    \<span class="kw1">end</span><span class="br0">{</span>document<span class="br0">}</span>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <p>
                                Copy the code, save with UTF-8 (without BOM) encoding, and compile using <code class="codecolorer text dawn"><span class="text">lualatex</span></code>.
                            </p>
                            <div class="codecolorer-container bash dawn" style="overflow:auto;white-space:nowrap;">
                                <div class="bash codecolorer">
                                    lualatex filename.tex
                                </div>
                            </div>
                            <h3>
                                Update ~16:00 CEST on 21 July 2014:
                            </h3>
                            <p>
                                Yesterday I’ve sent in this code as an example for <a href="https://texample.net/" title="TeXample.net – ample resources for TeX users">TeXample.net</a>. I got an answer from the site maintainer including a small improvement suggestion, namely that I should try algorithmize the drawing of a single (TikZ) cube (instead of concatenating a bunch of strings and make the TeX engine do the calculations). So I did, see the code below. (More details below the code.)
                            </p>
                            <div class="codecolorer-container lua dawn" style="overflow:auto;white-space:nowrap;height:400px;">
                                <table cellspacing="0" cellpadding="0">
                                    <tbody>
                                        <tr>
                                            <td class="line-numbers">
                                                <div>
                                                    1<br>
                                                    2<br>
                                                    3<br>
                                                    4<br>
                                                    5<br>
                                                    6<br>
                                                    7<br>
                                                    8<br>
                                                    9<br>
                                                    10<br>
                                                    11<br>
                                                    12<br>
                                                    13<br>
                                                    14<br>
                                                    15<br>
                                                    16<br>
                                                    17<br>
                                                    18<br>
                                                    19<br>
                                                    20<br>
                                                    21<br>
                                                    22<br>
                                                    23<br>
                                                    24<br>
                                                    25<br>
                                                    26<br>
                                                    27<br>
                                                    28<br>
                                                    29<br>
                                                    30<br>
                                                    31<br>
                                                    32<br>
                                                    33<br>
                                                    34<br>
                                                    35<br>
                                                    36<br>
                                                    37<br>
                                                    38<br>
                                                    39<br>
                                                    40<br>
                                                    41<br>
                                                    42<br>
                                                    43<br>
                                                    44<br>
                                                    45<br>
                                                    46<br>
                                                    47<br>
                                                    48<br>
                                                    49<br>
                                                    50<br>
                                                    51<br>
                                                    52<br>
                                                    53<br>
                                                    54<br>
                                                    55<br>
                                                    56<br>
                                                    57<br>
                                                    58<br>
                                                    59<br>
                                                    60<br>
                                                    61<br>
                                                    62<br>
                                                    63<br>
                                                    64<br>
                                                    65<br>
                                                    66<br>
                                                    67<br>
                                                    68<br>
                                                    69<br>
                                                    70<br>
                                                    71<br>
                                                    72<br>
                                                    73<br>
                                                    74<br>
                                                    75<br>
                                                    76<br>
                                                    77<br>
                                                    78<br>
                                                    79<br>
                                                    80<br>
                                                    81<br>
                                                    82<br>
                                                    83<br>
                                                    84<br>
                                                    85<br>
                                                    86<br>
                                                    87<br>
                                                    88<br>
                                                    89<br>
                                                    90<br>
                                                    91<br>
                                                    92<br>
                                                    93<br>
                                                    94<br>
                                                    95<br>
                                                    96<br>
                                                    97<br>
                                                    98<br>
                                                    99<br>
                                                    100<br>
                                                    101<br>
                                                    102<br>
                                                    103<br>
                                                    104<br>
                                                    105<br>
                                                    106<br>
                                                    107<br>
                                                    108<br>
                                                    109<br>
                                                    110<br>
                                                    111<br>
                                                    112<br>
                                                    113<br>
                                                    114<br>
                                                    115<br>
                                                    116<br>
                                                    117<br>
                                                    118<br>
                                                    119<br>
                                                    120<br>
                                                    121<br>
                                                    122<br>
                                                    123<br>
                                                    124<br>
                                                    125<br>
                                                    126<br>
                                                    127<br>
                                                    128<br>
                                                    129<br>
                                                    130<br>
                                                    131<br>
                                                    132<br>
                                                    133<br>
                                                    134<br>
                                                    135<br>
                                                    136<br>
                                                    137<br>
                                                    138<br>
                                                    139<br>
                                                    140<br>
                                                    141<br>
                                                    142<br>
                                                    143<br>
                                                    144<br>
                                                    145<br>
                                                    146<br>
                                                    147<br>
                                                    148<br>
                                                    149<br>
                                                    150<br>
                                                    151<br>
                                                    152<br>
                                                    153<br>
                                                    154<br>
                                                    155<br>
                                                    156<br>
                                                    157<br>
                                                    158<br>
                                                    159<br>
                                                    160<br>
                                                    161<br>
                                                    162<br>
                                                    163<br>
                                                    164<br>
                                                    165<br>
                                                    166<br>
                                                    167<br>
                                                    168<br>
                                                    169<br>
                                                    170<br>
                                                    171<br>
                                                    172<br>
                                                    173<br>
                                                    174<br>
                                                    175<br>
                                                    176<br>
                                                    177<br>
                                                    178<br>
                                                    179<br>
                                                    180<br>
                                                    181<br>
                                                    182<br>
                                                    183<br>
                                                    184<br>
                                                    185<br>
                                                    186<br>
                                                    187<br>
                                                    188<br>
                                                    189<br>
                                                    190<br>
                                                    191<br>
                                                    192<br>
                                                    193<br>
                                                    194<br>
                                                    195<br>
                                                    196<br>
                                                    197<br>
                                                    198<br>
                                                    199<br>
                                                    200<br>
                                                    201<br>
                                                    202<br>
                                                    203<br>
                                                    204<br>
                                                    205<br>
                                                    206<br>
                                                    207<br>
                                                    208<br>
                                                    209<br>
                                                    210<br>
                                                    211<br>
                                                    212<br>
                                                    213<br>
                                                    214<br>
                                                    215<br>
                                                    216<br>
                                                    217<br>
                                                    218<br>
                                                    219<br>
                                                    220<br>
                                                    221<br>
                                                    222<br>
                                                    223<br>
                                                    224<br>
                                                    225<br>
                                                    226<br>
                                                    227<br>
                                                    228<br>
                                                    229<br>
                                                    230<br>
                                                    231<br>
                                                    232<br>
                                                    233<br>
                                                    234<br>
                                                    235<br>
                                                    236<br>
                                                    237<br>
                                                    238<br>
                                                    239<br>
                                                    240<br>
                                                    241<br>
                                                    242<br>
                                                    243<br>
                                                    244<br>
                                                    245<br>
                                                    246<br>
                                                    247<br>
                                                    248<br>
                                                    249<br>
                                                    250<br>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="lua codecolorer">
                                                    <span class="sy0">%</span> Enderman<br>
                                                    <span class="sy0">%</span> Author<span class="sy0">:</span> István Szántai <span class="br0">(</span>szantaii<span class="br0">)</span><br>
                                                    \documentclass<span class="br0">{</span>article<span class="br0">}</span><br>
                                                    <br>
                                                    \usepackage<span class="br0">{</span>luacode<span class="br0">}</span><br>
                                                    <br>
                                                    \usepackage<span class="br0">{</span>xcolor<span class="br0">}</span><br>
                                                    <br>
                                                    \usepackage<span class="br0">{</span>tikz<span class="br0">}</span><br>
                                                    \usepackage<span class="br0">{</span>tikz<span class="sy0">-</span>3dplot<span class="br0">}</span><br>
                                                    <br>
                                                    \usepackage<span class="br0">[</span>active<span class="sy0">,</span> tightpage<span class="br0">]</span><span class="br0">{</span>preview<span class="br0">}</span><br>
                                                    \PreviewEnvironment<span class="br0">{</span>tikzpicture<span class="br0">}</span><br>
                                                    \setlength<span class="br0">{</span>\PreviewBorder<span class="br0">}</span><span class="br0">{</span>1cm<span class="br0">}</span><br>
                                                    <br>
                                                    \definecolor<span class="br0">{</span>endermanblack<span class="br0">}</span><span class="br0">{</span>HTML<span class="br0">}</span><span class="br0">{</span><span class="nu0">000000</span><span class="br0">}</span><br>
                                                    \definecolor<span class="br0">{</span>endermangray<span class="br0">}</span><span class="br0">{</span>HTML<span class="br0">}</span><span class="br0">{</span><span class="nu0">161616</span><span class="br0">}</span><br>
                                                    <span class="sy0">%</span>\definecolor<span class="br0">{</span>endermanpurple<span class="br0">}</span><span class="br0">{</span>HTML<span class="br0">}</span><span class="br0">{</span>CC00FA<span class="br0">}</span><br>
                                                    <span class="sy0">%</span>\definecolor<span class="br0">{</span>endermanlightpurple<span class="br0">}</span><span class="br0">{</span>HTML<span class="br0">}</span><span class="br0">{</span>E079FA<span class="br0">}</span><br>
                                                    \definecolor<span class="br0">{</span>endermanpurple<span class="br0">}</span><span class="br0">{</span>HTML<span class="br0">}</span><span class="br0">{</span>FF9EFF<span class="br0">}</span><br>
                                                    \definecolor<span class="br0">{</span>endermanlightpurple<span class="br0">}</span><span class="br0">{</span>HTML<span class="br0">}</span><span class="br0">{</span>FFC9FF<span class="br0">}</span><br>
                                                    \definecolor<span class="br0">{</span>particlecolor<span class="br0">}</span><span class="br0">{</span>HTML<span class="br0">}</span><span class="br0">{</span>DF4AF8<span class="br0">}</span><br>
                                                    <br>
                                                    \begin<span class="br0">{</span>luacode<span class="sy0">*</span><span class="br0">}</span><br>
                                                    &nbsp; &nbsp; <span class="kw1">function</span> draw_coordinate_system<span class="br0">(</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span><span class="st0">"<span class="es1">\\</span>draw[white!50!gray,thick,-&gt;] (0,0,0) -- "</span> <span class="sy0">..</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"(3,0,0) node[text=white!50!gray,anchor=north east]{$x$};"</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span><span class="st0">"<span class="es1">\\</span>draw[white!50!gray,thick,-&gt;] (0,0,0) -- "</span> <span class="sy0">..</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"(0,3,0) node[text=white!50!gray,anchor=west]{$y$};"</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span><span class="st0">"<span class="es1">\\</span>draw[white!50!gray,thick,-&gt;] (0,0,0) -- "</span> <span class="sy0">..</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"(0,0,3) node[text=white!50!gray,anchor=south]{$z$};"</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; <span class="kw1">function</span> matrix_scalar_multiplication<span class="br0">(</span>matrix<span class="sy0">,</span> scalar<span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> rows <span class="sy0">=</span> <span class="sy0">#</span>matrix<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> cols <span class="sy0">=</span> <span class="sy0">#</span>matrix<span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> tmp_matrix <span class="sy0">=</span> <span class="br0">{</span><span class="br0">}</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> i <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">,</span> rows <span class="kw1">do</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tmp_matrix<span class="br0">[</span>i<span class="br0">]</span> <span class="sy0">=</span> <span class="br0">{</span><span class="br0">}</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> j <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">,</span> cols <span class="kw1">do</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tmp_matrix<span class="br0">[</span>i<span class="br0">]</span><span class="br0">[</span>j<span class="br0">]</span> <span class="sy0">=</span> matrix<span class="br0">[</span>i<span class="br0">]</span><span class="br0">[</span>j<span class="br0">]</span> <span class="sy0">*</span> scalar<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">return</span> tmp_matrix<br>
                                                    &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; <span class="kw1">function</span> shift_coordinates<span class="br0">(</span>matrix<span class="sy0">,</span> array<span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> matrix_rows <span class="sy0">=</span> <span class="sy0">#</span>matrix<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> matrix_cols <span class="sy0">=</span> <span class="sy0">#</span>matrix<span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> array_length <span class="sy0">=</span> <span class="sy0">#</span>array<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> tmp_matrix <span class="sy0">=</span> <span class="br0">{</span><span class="br0">}</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span> matrix_cols <span class="sy0">==</span> array_length <span class="kw1">then</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> i <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">,</span> matrix_rows <span class="kw1">do</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tmp_matrix<span class="br0">[</span>i<span class="br0">]</span> <span class="sy0">=</span> <span class="br0">{</span><span class="br0">}</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> j <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">,</span> matrix_cols <span class="kw1">do</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tmp_matrix<span class="br0">[</span>i<span class="br0">]</span><span class="br0">[</span>j<span class="br0">]</span> <span class="sy0">=</span> matrix<span class="br0">[</span>i<span class="br0">]</span><span class="br0">[</span>j<span class="br0">]</span> <span class="sy0">+</span> array<span class="br0">[</span>j<span class="br0">]</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">return</span> tmp_matrix<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">else</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">return</span> <span class="kw4">nil</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; <span class="kw1">function</span> tikzcube<span class="br0">(</span>x<span class="sy0">,</span> y<span class="sy0">,</span> z<span class="sy0">,</span> color<span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> side_1 <span class="sy0">=</span> <span class="br0">{</span><span class="br0">{</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">}</span><span class="sy0">,</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">{</span><span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">}</span><span class="sy0">,</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">{</span><span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">}</span><span class="sy0">,</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">{</span><span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">}</span><span class="br0">}</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> side_2 <span class="sy0">=</span> <span class="br0">{</span><span class="br0">{</span><span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">}</span><span class="sy0">,</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">{</span><span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="br0">}</span><span class="sy0">,</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">{</span><span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="br0">}</span><span class="sy0">,</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">{</span><span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">}</span><span class="br0">}</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> side_3 <span class="sy0">=</span> <span class="br0">{</span><span class="br0">{</span><span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">}</span><span class="sy0">,</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">{</span><span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">}</span><span class="sy0">,</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">{</span><span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="br0">}</span><span class="sy0">,</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">{</span><span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="br0">}</span><span class="br0">}</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> side_4 <span class="sy0">=</span> <span class="br0">{</span><span class="br0">{</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">}</span><span class="sy0">,</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">{</span><span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">}</span><span class="sy0">,</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">{</span><span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="br0">}</span><span class="sy0">,</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">{</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="br0">}</span><span class="br0">}</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> side_5 <span class="sy0">=</span> <span class="br0">{</span><span class="br0">{</span><span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">}</span><span class="sy0">,</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">{</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">}</span><span class="sy0">,</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">{</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="br0">}</span><span class="sy0">,</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">{</span><span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="br0">}</span><span class="br0">}</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> side_6 <span class="sy0">=</span> <span class="br0">{</span><span class="br0">{</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="br0">}</span><span class="sy0">,</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">{</span><span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="br0">}</span><span class="sy0">,</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">{</span><span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="br0">}</span><span class="sy0">,</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">{</span><span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="br0">}</span><span class="br0">}</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> cube_sides <span class="sy0">=</span> <span class="br0">{</span>side_1<span class="sy0">,</span> side_2<span class="sy0">,</span> side_3<span class="sy0">,</span> side_4<span class="sy0">,</span> side_5<span class="sy0">,</span> side_6<span class="br0">}</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> tex_cube <span class="sy0">=</span> <span class="st0">""</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> i <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">#</span>cube_sides <span class="kw1">do</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex_cube <span class="sy0">=</span> tex_cube <span class="sy0">..</span> <span class="st0">"<span class="es1">\\</span>draw[ultra thin, fill="</span> <span class="sy0">..</span> color <span class="sy0">..</span> <span class="st0">"] "</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> current_side <span class="sy0">=</span> matrix_scalar_multiplication<span class="br0">(</span>cube_sides<span class="br0">[</span>i<span class="br0">]</span><span class="sy0">,</span> <span class="nu0">0.5</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; current_side <span class="sy0">=</span> shift_coordinates<span class="br0">(</span>current_side<span class="sy0">,</span> <span class="br0">{</span>x<span class="sy0">,</span> y<span class="sy0">,</span> z<span class="br0">}</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> current_side_rows <span class="sy0">=</span> <span class="sy0">#</span>current_side<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> current_side_cols <span class="sy0">=</span> <span class="sy0">#</span>current_side<span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> j <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">,</span> current_side_rows <span class="kw1">do</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> k <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">,</span> current_side_cols <span class="kw1">do</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span> k <span class="sy0">==</span> <span class="nu0">1</span> <span class="kw1">then</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex_cube <span class="sy0">=</span> tex_cube <span class="sy0">..</span> <span class="st0">"("</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex_cube <span class="sy0">=</span> tex_cube <span class="sy0">..</span> current_side<span class="br0">[</span>j<span class="br0">]</span><span class="br0">[</span>k<span class="br0">]</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span> k <span class="sy0">~=</span> current_side_cols <span class="kw1">then</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex_cube <span class="sy0">=</span> tex_cube <span class="sy0">..</span> <span class="st0">", "</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">else</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex_cube <span class="sy0">=</span> tex_cube <span class="sy0">..</span> <span class="st0">") -- "</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex_cube <span class="sy0">=</span> tex_cube <span class="sy0">..</span> <span class="st0">"cycle;"</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span>tex_cube<span class="br0">)</span><br>
                                                    &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; <span class="kw1">function</span> draw_head<span class="br0">(</span>x_pos<span class="sy0">,</span> y_pos<span class="sy0">,</span> z_pos<span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> color<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> x <span class="sy0">=</span> x_pos<span class="sy0">,</span> x_pos <span class="sy0">+</span> <span class="nu0">7</span><span class="sy0">,</span> <span class="nu0">1</span> <span class="kw1">do</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> y <span class="sy0">=</span> y_pos<span class="sy0">,</span> y_pos <span class="sy0">+</span> <span class="nu0">7</span><span class="sy0">,</span> <span class="nu0">1</span> <span class="kw1">do</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> z <span class="sy0">=</span> z_pos<span class="sy0">,</span> z_pos <span class="sy0">+</span> <span class="nu0">6</span><span class="sy0">,</span> <span class="nu0">1</span> <span class="kw1">do</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span> <span class="br0">(</span>x <span class="sy0">==</span> x_pos <span class="kw2">or</span> x <span class="sy0">==</span> x_pos <span class="sy0">+</span> <span class="nu0">7</span> <span class="kw2">or</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; y <span class="sy0">==</span> y_pos <span class="kw2">or</span> y <span class="sy0">==</span> y_pos <span class="sy0">+</span> <span class="nu0">7</span> <span class="kw2">or</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; z <span class="sy0">==</span> z_pos <span class="kw2">or</span> z <span class="sy0">==</span> z_pos <span class="sy0">+</span> <span class="nu0">6</span><span class="br0">)</span> <span class="kw2">and</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw2">not</span> <span class="br0">(</span>x <span class="sy0">==</span> x_pos <span class="sy0">+</span> <span class="nu0">7</span> <span class="kw2">and</span> y <span class="sy0">&gt;</span> y_pos <span class="kw2">and</span> y <span class="sy0">&lt;</span> y_pos <span class="sy0">+</span> <span class="nu0">7</span> <span class="kw2">and</span> z <span class="sy0">==</span> z_pos<span class="br0">)</span> <span class="kw1">then</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span> x <span class="sy0">==</span> x_pos <span class="sy0">+</span> <span class="nu0">7</span> <span class="kw2">and</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">(</span>y <span class="sy0">==</span> y_pos <span class="kw2">or</span> y <span class="sy0">==</span> y_pos <span class="sy0">+</span> <span class="nu0">2</span> <span class="kw2">or</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; y <span class="sy0">==</span> y_pos <span class="sy0">+</span> <span class="nu0">5</span> <span class="kw2">or</span> y <span class="sy0">==</span> y_pos <span class="sy0">+</span> <span class="nu0">7</span><span class="br0">)</span> <span class="kw2">and</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; z <span class="sy0">==</span> z_pos <span class="sy0">+</span> <span class="nu0">2</span> <span class="kw1">then</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tikzcube<span class="br0">(</span>x<span class="sy0">,</span> y<span class="sy0">,</span> z<span class="sy0">,</span> <span class="st0">"endermanlightpurple"</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">elseif</span> x <span class="sy0">==</span> x_pos <span class="sy0">+</span> <span class="nu0">7</span> <span class="kw2">and</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">(</span>y <span class="sy0">==</span> y_pos <span class="sy0">+</span> <span class="nu0">1</span> <span class="kw2">or</span> y <span class="sy0">==</span> y_pos <span class="sy0">+</span> <span class="nu0">6</span><span class="br0">)</span> <span class="kw2">and</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; z <span class="sy0">==</span> z_pos <span class="sy0">+</span> <span class="nu0">2</span> <span class="kw1">then</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tikzcube<span class="br0">(</span>x<span class="sy0">,</span> y<span class="sy0">,</span> z<span class="sy0">,</span> <span class="st0">"endermanpurple"</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">else</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span> <span class="kw3">math.random</span><span class="br0">(</span><span class="nu0">0</span><span class="sy0">,</span> <span class="nu0">8</span><span class="br0">)</span> <span class="sy0">&lt;</span> <span class="nu0">6</span> <span class="kw1">then</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; color <span class="sy0">=</span> <span class="st0">"endermangray"</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">else</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; color <span class="sy0">=</span> <span class="st0">"endermanblack"</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tikzcube<span class="br0">(</span>x<span class="sy0">,</span> y<span class="sy0">,</span> z<span class="sy0">,</span> color<span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; <span class="kw1">function</span> draw_bodypart<span class="br0">(</span>x_pos<span class="sy0">,</span> y_pos<span class="sy0">,</span> z_pos<span class="sy0">,</span> x_length<span class="sy0">,</span> y_length<span class="sy0">,</span> z_length<span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> color<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> x <span class="sy0">=</span> x_pos<span class="sy0">,</span> x_pos <span class="sy0">+</span> x_length <span class="sy0">-</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span> <span class="kw1">do</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> y <span class="sy0">=</span> y_pos<span class="sy0">,</span> y_pos <span class="sy0">+</span> y_length <span class="sy0">-</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span> <span class="kw1">do</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> z <span class="sy0">=</span> z_pos<span class="sy0">,</span> z_pos <span class="sy0">+</span> z_length <span class="sy0">-</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span> <span class="kw1">do</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span> x <span class="sy0">==</span> x_pos <span class="kw2">or</span> x <span class="sy0">==</span> x_pos <span class="sy0">+</span> x_length <span class="sy0">-</span> <span class="nu0">1</span> <span class="kw2">or</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; y <span class="sy0">==</span> y_pos <span class="kw2">or</span> y <span class="sy0">==</span> y_pos <span class="sy0">+</span> y_length <span class="sy0">-</span> <span class="nu0">1</span> <span class="kw2">or</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; z <span class="sy0">==</span> z_pos <span class="kw2">or</span> z <span class="sy0">==</span> z_pos <span class="sy0">+</span> z_length <span class="sy0">-</span> <span class="nu0">1</span> <span class="kw1">then</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span> <span class="kw3">math.random</span><span class="br0">(</span><span class="nu0">0</span><span class="sy0">,</span> <span class="nu0">8</span><span class="br0">)</span> <span class="sy0">&lt;</span> <span class="nu0">6</span> <span class="kw1">then</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; color <span class="sy0">=</span> <span class="st0">"endermangray"</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">else</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; color <span class="sy0">=</span> <span class="st0">"endermanblack"</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tikzcube<span class="br0">(</span>x<span class="sy0">,</span> y<span class="sy0">,</span> z<span class="sy0">,</span> color<span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; <span class="kw1">function</span> draw_particles<span class="br0">(</span>x_min<span class="sy0">,</span> x_max<span class="sy0">,</span> y_min<span class="sy0">,</span> y_max<span class="sy0">,</span> z_min<span class="sy0">,</span> z_max<span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> x<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> y<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> z<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> black_amount<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> particle_size<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> particle_scale<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> particle_count <span class="sy0">=</span> <span class="kw3">math.random</span><span class="br0">(</span><span class="nu0">30</span><span class="sy0">,</span> <span class="nu0">40</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">local</span> particle<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> i <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">,</span> particle_count<span class="sy0">,</span> <span class="nu0">1</span> <span class="kw1">do</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; x <span class="sy0">=</span> <span class="kw3">math.random</span><span class="br0">(</span>x_min<span class="sy0">,</span> x_max<span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; y <span class="sy0">=</span> <span class="kw3">math.random</span><span class="br0">(</span>y_min<span class="sy0">,</span> y_max<span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; z <span class="sy0">=</span> <span class="kw3">math.random</span><span class="br0">(</span>z_min<span class="sy0">,</span> z_max<span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; particle_size <span class="sy0">=</span> <span class="kw3">math.random</span><span class="br0">(</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">8</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; particle_scale <span class="sy0">=</span> <span class="kw3">math.random</span><span class="br0">(</span><span class="nu0">20</span><span class="sy0">,</span> <span class="nu0">100</span><span class="br0">)</span> <span class="sy0">/</span> <span class="nu0">100</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; black_amount <span class="sy0">=</span> <span class="kw3">math.random</span><span class="br0">(</span><span class="nu0">0</span><span class="sy0">,</span> <span class="nu0">25</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span><span class="st0">"<span class="es1">\\</span>tdplottransformmainscreen{"</span> <span class="sy0">..</span> x <span class="sy0">..</span> <span class="st0">"}{"</span> <span class="sy0">..</span> y <span class="sy0">..</span> <span class="st0">"}{"</span> <span class="sy0">..</span> z <span class="sy0">..</span> <span class="st0">"}"</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">,</span> particle_size <span class="sy0">-</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span> <span class="kw1">do</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> j <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">,</span> particle_size <span class="sy0">-</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span> <span class="kw1">do</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span> <span class="kw3">math.random</span><span class="br0">(</span><span class="nu0">0</span><span class="sy0">,</span> <span class="nu0">1</span><span class="br0">)</span> <span class="sy0">==</span> <span class="nu0">0</span> <span class="kw2">and</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">(</span><span class="br0">(</span>i <span class="sy0">~=</span> <span class="nu0">0</span> <span class="kw2">and</span> j <span class="sy0">~=</span> <span class="nu0">0</span><span class="br0">)</span> <span class="kw2">and</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">(</span>i <span class="sy0">~=</span> particle_size <span class="sy0">-</span> <span class="nu0">1</span> <span class="kw2">and</span> j <span class="sy0">~=</span> <span class="nu0">0</span><span class="br0">)</span> <span class="kw2">and</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">(</span>j <span class="sy0">~=</span> particle_size <span class="sy0">-</span> <span class="nu0">1</span> <span class="kw2">and</span> i <span class="sy0">~=</span> <span class="nu0">0</span><span class="br0">)</span> <span class="kw2">and</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">(</span>i <span class="sy0">~=</span> particle_size <span class="sy0">-</span> <span class="nu0">1</span> <span class="kw2">and</span> j <span class="sy0">~=</span> particle_size <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">)</span><span class="br0">)</span> <span class="kw1">then</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; particle <span class="sy0">=</span> <span class="st0">"<span class="es1">\\</span>filldraw[black!"</span> <span class="sy0">..</span> black_amount <span class="sy0">..</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"!particlecolor, tdplot_screen_coords] ("</span> <span class="sy0">..</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; i <span class="sy0">*</span> particle_scale <span class="sy0">*</span> <span class="nu0">0.25</span> <span class="sy0">..</span> <span class="st0">"+<span class="es1">\\</span>tdplotresx, "</span> <span class="sy0">..</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; j <span class="sy0">*</span> particle_scale <span class="sy0">*</span> <span class="nu0">0.25</span> <span class="sy0">..</span> <span class="st0">"+<span class="es1">\\</span>tdplotresy) "</span> <span class="sy0">..</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">"rectangle +("</span> <span class="sy0">..</span> particle_scale <span class="sy0">..</span> <span class="st0">"*0.25, "</span> <span class="sy0">..</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; particle_scale <span class="sy0">..</span> <span class="st0">"*0.25);"</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span>particle<span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; <span class="kw1">function</span> draw_enderman<span class="br0">(</span>x_rotation<span class="sy0">,</span> z_rotation<span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span><span class="st0">"<span class="es1">\\</span>tdplotsetmaincoords{"</span> <span class="sy0">..</span> x_rotation <span class="sy0">..</span> <span class="st0">"}{"</span> <span class="sy0">..</span> z_rotation <span class="sy0">..</span> <span class="st0">"}"</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span><span class="st0">"<span class="es1">\\</span>begin{tikzpicture}[tdplot_main_coords]"</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw3">math.randomseed</span><span class="br0">(</span><span class="kw3">os.time</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; draw_bodypart<span class="br0">(</span><span class="nu0">3</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">2</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">30</span><span class="sy0">,</span> <span class="nu0">2</span><span class="sy0">,</span> <span class="nu0">2</span><span class="sy0">,</span> <span class="nu0">30</span><span class="br0">)</span> <span class="co1">-- right arm</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; draw_bodypart<span class="br0">(</span><span class="nu0">3</span><span class="sy0">,</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">42</span><span class="sy0">,</span> <span class="nu0">2</span><span class="sy0">,</span> <span class="nu0">2</span><span class="sy0">,</span> <span class="nu0">30</span><span class="br0">)</span> <span class="co1">-- right leg</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; draw_bodypart<span class="br0">(</span><span class="nu0">3</span><span class="sy0">,</span> <span class="nu0">5</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">42</span><span class="sy0">,</span> <span class="nu0">2</span><span class="sy0">,</span> <span class="nu0">2</span><span class="sy0">,</span> <span class="nu0">30</span><span class="br0">)</span> <span class="co1">-- left leg</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; draw_bodypart<span class="br0">(</span><span class="nu0">2</span><span class="sy0">,</span> <span class="nu0">0</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">12</span><span class="sy0">,</span> <span class="nu0">4</span><span class="sy0">,</span> <span class="nu0">8</span><span class="sy0">,</span> <span class="nu0">12</span><span class="br0">)</span> <span class="co1">-- body</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; draw_bodypart<span class="br0">(</span><span class="nu0">3</span><span class="sy0">,</span> <span class="nu0">8</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">30</span><span class="sy0">,</span> <span class="nu0">2</span><span class="sy0">,</span> <span class="nu0">2</span><span class="sy0">,</span> <span class="nu0">30</span><span class="br0">)</span><span class="co1">-- left arm</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; draw_head<span class="br0">(</span><span class="nu0">0</span><span class="sy0">,</span> <span class="nu0">0</span><span class="sy0">,</span> <span class="nu0">0</span><span class="br0">)</span> <span class="co1">-- head</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; draw_particles<span class="br0">(</span><span class="sy0">-</span><span class="nu0">10</span><span class="sy0">,</span> <span class="nu0">10</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">10</span><span class="sy0">,</span> <span class="nu0">10</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">44</span><span class="sy0">,</span> <span class="nu0">10</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="co1">-- draw_coordinate_system()</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; tex<span class="sy0">.</span>sprint<span class="br0">(</span><span class="st0">"<span class="es1">\\</span>end{tikzpicture}"</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; <span class="kw1">end</span><br>
                                                    \<span class="kw1">end</span><span class="br0">{</span>luacode<span class="sy0">*</span><span class="br0">}</span><br>
                                                    <br>
                                                    \begin<span class="br0">{</span>document<span class="br0">}</span><br>
                                                    \luadirect<span class="br0">{</span>draw_enderman<span class="br0">(</span><span class="nu0">70</span><span class="sy0">,</span> <span class="nu0">130</span><span class="br0">)</span><span class="br0">}</span><br>
                                                    \<span class="kw1">end</span><span class="br0">{</span>document<span class="br0">}</span>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <p>
                                I have added two new functions (<code class="codecolorer text dawn"><span class="text">matrix_scalar_multiplication</span></code>, <code class="codecolorer text dawn"><span class="text">shift_coordinates</span></code>), and rewrote the <code class="codecolorer text dawn"><span class="text">tikzcube</span></code> function, so now the LuaTeX engine makes all necessary calculations instead of the TeX (TikZ?) engine which is considerably slower. Let’s see the numbers.
                            </p>
                            <p>
                                I’ve measured the compilation time of the original and the improved code. I made 20–20 “dry” compilations (no previous <code class="codecolorer text dawn"><span class="text">aux</span></code>, <code class="codecolorer text dawn"><span class="text">log</span></code> or <code class="codecolorer text dawn"><span class="text">pdf</span></code> files). The average compilation time of the original code was 25.35 seconds while the improved code’s average was only 18.30 seconds. This means that the improved version is 25% faster than the previous one. Stefan, thanks for your suggestion!
                            </p>
                            <div class="post_tags clear">
                                <ul>
                                    <li>
                                        <a href="../indie/index.html" rel="tag">indie</a>
                                    </li>
                                    <li>
                                        <a href="../rajz/index.html" rel="tag">rajz</a>
                                    </li>
                                    <li>
                                        <a href="index.html" rel="tag">TeX/LaTeX</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="clear post-8500 post type-post status-publish format-standard hentry category-alkotunk category-gizmo category-ismeretterjeszto category-szoftver tag-tex-latex tag-tipografia" id="post_8500">
                        <div class="post_meta">
                            <h2>
                                <a href="../../index.html%3Fp=8500.html" title="Programming Conway’s Game of Life in LaTeX" rel="bookmark">Programming Conway’s Game of Life in LaTeX</a>
                            </h2>
                            <div class="post_data">
                                <div class="post_author">
                                    Írta: <a href="../../index.html" title="szantaii honlapjának megtekintése" rel="author external">szantaii</a>
                                </div>
                                <div class="post_date">
                                    2013. november 18. 10:01
                                </div>
                                <div class="post_categories">
                                    <a href="../../category/alkotunk/index.html" rel="category tag">alkotunk</a>, <a href="../../category/gizmo/index.html" rel="category tag">gizmó</a>, <a href="../../category/ismeretterjeszto/index.html" rel="category tag">ismeretterjesztő</a>, <a href="../../category/szoftver/index.html" rel="category tag">szoftver</a>
                                </div>
                            </div>
                        </div>
                        <div class="post_content">
                            <p>
                                The other day I thought about that it would be nice to program <a href="https://en.wikipedia.org/wiki/Conway's_Game_of_Life" title="Conway's Game of Life - Wikipedia">Conway’s Game of Life</a> in LaTeX and create an animated PDF output. You could say that implementing the Game of Life is pretty easy. It is. But not in LaTeX, at least not for me. After using LaTeX for years I still find it hard to understand some codes and especially writing programs in “pure LaTeX”.
                            </p>
                            <p>
                                Since I use PGF/TikZ fairly often I decided to use <code class="codecolorer text dawn"><span class="text">pgfmath</span></code> for the implementation. Pretty soon I got stuck, I needed to assign values to array elements, and I didn’t know how to overcome this problem in LaTeX. So I decided to ask <a href="https://tex.stackexchange.com/q/145319" title="tikz pgf - Programming Conway's Game of Life in LaTeX - TeX - LaTeX Stack Exchange">a question on TeX.SX</a>. This is the point that things get interesting.
                            </p>
                            <p>
                                I asked a question with the title “Assign value to array element (PGF/TikZ)”, I also wrote that my aim was to program Conway’s Game of Life in LaTeX, and posted my initial code. Before long two answers came, and the question was renamed to “Programming Conway’s Game of Life in LaTeX”. The first answer <a href="https://tex.stackexchange.com/a/145331">implemented the Game of Life in LaTeX</a>, the second <a href="https://tex.stackexchange.com/a/145336">implemented it in LuaTeX</a>. I was stunned. Especially from the LaTeX implementation. I didn’t – and still don’t – understand the code. :) At the end I decided I should get acquainted with LuaTeX, and write <a href="https://tex.stackexchange.com/a/145463">my own solution</a> in it:
                            </p>
                            <p>
                                <img src="../../wp-content/uploads/2013/11/glider.gif" alt="Glider" width="250" height="250" class="alignnone size-full wp-image-8506">
                            </p>
                            <div class="codecolorer-container latex dawn" style="overflow:auto;white-space:nowrap;height:400px;">
                                <table cellspacing="0" cellpadding="0">
                                    <tbody>
                                        <tr>
                                            <td class="line-numbers">
                                                <div>
                                                    1<br>
                                                    2<br>
                                                    3<br>
                                                    4<br>
                                                    5<br>
                                                    6<br>
                                                    7<br>
                                                    8<br>
                                                    9<br>
                                                    10<br>
                                                    11<br>
                                                    12<br>
                                                    13<br>
                                                    14<br>
                                                    15<br>
                                                    16<br>
                                                    17<br>
                                                    18<br>
                                                    19<br>
                                                    20<br>
                                                    21<br>
                                                    22<br>
                                                    23<br>
                                                    24<br>
                                                    25<br>
                                                    26<br>
                                                    27<br>
                                                    28<br>
                                                    29<br>
                                                    30<br>
                                                    31<br>
                                                    32<br>
                                                    33<br>
                                                    34<br>
                                                    35<br>
                                                    36<br>
                                                    37<br>
                                                    38<br>
                                                    39<br>
                                                    40<br>
                                                    41<br>
                                                    42<br>
                                                    43<br>
                                                    44<br>
                                                    45<br>
                                                    46<br>
                                                    47<br>
                                                    48<br>
                                                    49<br>
                                                    50<br>
                                                    51<br>
                                                    52<br>
                                                    53<br>
                                                    54<br>
                                                    55<br>
                                                    56<br>
                                                    57<br>
                                                    58<br>
                                                    59<br>
                                                    60<br>
                                                    61<br>
                                                    62<br>
                                                    63<br>
                                                    64<br>
                                                    65<br>
                                                    66<br>
                                                    67<br>
                                                    68<br>
                                                    69<br>
                                                    70<br>
                                                    71<br>
                                                    72<br>
                                                    73<br>
                                                    74<br>
                                                    75<br>
                                                    76<br>
                                                    77<br>
                                                    78<br>
                                                    79<br>
                                                    80<br>
                                                    81<br>
                                                    82<br>
                                                    83<br>
                                                    84<br>
                                                    85<br>
                                                    86<br>
                                                    87<br>
                                                    88<br>
                                                    89<br>
                                                    90<br>
                                                    91<br>
                                                    92<br>
                                                    93<br>
                                                    94<br>
                                                    95<br>
                                                    96<br>
                                                    97<br>
                                                    98<br>
                                                    99<br>
                                                    100<br>
                                                    101<br>
                                                    102<br>
                                                    103<br>
                                                    104<br>
                                                    105<br>
                                                    106<br>
                                                    107<br>
                                                    108<br>
                                                    109<br>
                                                    110<br>
                                                    111<br>
                                                    112<br>
                                                    113<br>
                                                    114<br>
                                                    115<br>
                                                    116<br>
                                                    117<br>
                                                    118<br>
                                                    119<br>
                                                    120<br>
                                                    121<br>
                                                    122<br>
                                                    123<br>
                                                    124<br>
                                                    125<br>
                                                    126<br>
                                                    127<br>
                                                    128<br>
                                                    129<br>
                                                    130<br>
                                                    131<br>
                                                    132<br>
                                                    133<br>
                                                    134<br>
                                                    135<br>
                                                    136<br>
                                                    137<br>
                                                    138<br>
                                                    139<br>
                                                    140<br>
                                                    141<br>
                                                    142<br>
                                                    143<br>
                                                    144<br>
                                                    145<br>
                                                    146<br>
                                                    147<br>
                                                    148<br>
                                                    149<br>
                                                    150<br>
                                                    151<br>
                                                    152<br>
                                                    153<br>
                                                    154<br>
                                                    155<br>
                                                    156<br>
                                                    157<br>
                                                    158<br>
                                                    159<br>
                                                    160<br>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="latex codecolorer">
                                                    <span class="sy0">\</span><span class="kw1">documentclass</span><span class="sy0">{</span><span class="re9">article<span class="sy0">}</span><br>
                                                    <span class="sy0">\</span><span class="kw1">usepackage</span><span class="sy0">[</span><span class="re2">a0paper</span><span class="sy0">]{</span>geometry<span class="sy0">}</span><br>
                                                    <br>
                                                    <span class="sy0">\</span><span class="kw1">usepackage</span><span class="sy0">{</span>luacode<span class="sy0">}</span><br>
                                                    <span class="sy0">\</span><span class="kw1">usepackage</span><span class="sy0">{</span>animate<span class="sy0">}</span><br>
                                                    <span class="sy0">\</span><span class="kw1">usepackage</span><span class="sy0">{</span>tikz<span class="sy0">}</span><br>
                                                    <span class="sy0">\</span><span class="kw1">usepackage</span><span class="sy0">{</span>xcolor<span class="sy0">}</span><br>
                                                    <span class="sy0">\</span><span class="kw1">usepackage</span><span class="sy0">[</span><span class="re2">active, tightpage</span><span class="sy0">]{</span>preview<span class="sy0">}</span><br>
                                                    <span class="re12">\PreviewEnvironment</span>{animateinline</span><span class="sy0">}</span><br>
                                                    <span class="co1">%\PreviewEnvironment{tikzpicture}</span><br>
                                                    <br>
                                                    <span class="re12">\tikzset</span><span class="sy0">{</span><span class="co1">%</span><br>
                                                    &nbsp; &nbsp; cellframe/.style=<span class="sy0">{</span><span class="co1">%</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; minimum size=5mm,<span class="co1">%</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; draw,<span class="co1">%</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; fill=white,<span class="co1">%</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; fill opacity=0<span class="co1">%</span><br>
                                                    &nbsp; &nbsp; <span class="sy0">}</span><span class="co1">%</span><br>
                                                    <span class="sy0">}</span><br>
                                                    <br>
                                                    <span class="re12">\tikzset</span><span class="sy0">{</span><span class="co1">%</span><br>
                                                    &nbsp; &nbsp; alivecell/.style=<span class="sy0">{</span><span class="co1">%</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; circle,<span class="co1">%</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; inner sep=0pt,<span class="co1">%</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; minimum size=4mm,<span class="co1">%</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; fill=black<span class="co1">%</span><br>
                                                    &nbsp; &nbsp; <span class="sy0">}</span><span class="co1">%</span><br>
                                                    <span class="sy0">}</span><br>
                                                    <br>
                                                    <span class="sy0">\</span><span class="kw1">setlength</span><span class="sy0">{</span><span class="re9"><span class="re12">\PreviewBorder</span><span class="sy0">}{</span>5mm<span class="sy0">}</span><br>
                                                    <br>
                                                    <span class="re8">\begin</span><span class="sy0">{</span><span class="re7">document</span><span class="sy0">}</span><br>
                                                    <br>
                                                    <span class="re8">\begin</span><span class="sy0">{</span><span class="re7">luacode*</span><span class="sy0">}</span><br>
                                                    &nbsp; &nbsp; iterations = 36<br>
                                                    &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; grid = <span class="sy0">{{</span>0, 0, 0, 0, 0, 0, 0, 0, 0<span class="sy0">}</span>,<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="sy0">{</span>0, 0, 0, 0, 0, 0, 0, 0, 0<span class="sy0">}</span>,<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="sy0">{</span>0, 0, 0, 0, 0, 0, 0, 0, 0<span class="sy0">}</span>,<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="sy0">{</span>0, 0, 0, 0, 1, 0, 0, 0, 0<span class="sy0">}</span>,<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="sy0">{</span>0, 0, 0, 0, 0, 1, 0, 0, 0<span class="sy0">}</span>,<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="sy0">{</span>0, 0, 0, 1, 1, 1, 0, 0, 0<span class="sy0">}</span>,<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="sy0">{</span>0, 0, 0, 0, 0, 0, 0, 0, 0<span class="sy0">}</span>,<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="sy0">{</span>0, 0, 0, 0, 0, 0, 0, 0, 0<span class="sy0">}</span>,<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; <span class="sy0">{</span>0, 0, 0, 0, 0, 0, 0, 0, 0<span class="sy0">}}</span><br>
                                                    <span class="re8">\end</span><span class="sy0">{</span><span class="re7">luacode*</span><span class="sy0">}</span><br>
                                                    <br>
                                                    <span class="re8">\begin</span><span class="sy0">{</span><span class="re7">luacode*</span><span class="sy0">}</span><br>
                                                    &nbsp; &nbsp; function evolve(grid)<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; local temp = <span class="sy0">{}</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; local gridsize = #grid<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; for i = 1, gridsize do<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; temp<span class="sy0">[</span><span class="re2">i</span><span class="sy0">]</span> = <span class="sy0">{}</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for j = 1, gridsize do<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; temp<span class="sy0">[</span><span class="re2">i</span><span class="sy0">][</span><span class="re2">j</span><span class="sy0">]</span> = 0<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; end<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; for i = 1, gridsize do<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for j = 1, gridsize do<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; iminus = i - 1<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; iplus = i + 1<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; jminus = j - 1<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; jplus = j + 1<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if iminus == 0 then<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; iminus = gridsize<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if iplus == gridsize + 1 then<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; iplus = 1<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if jminus == 0 then<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; jminus = gridsize<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if jplus == gridsize + 1 then<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; jplus = 1<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; neighbourcount = grid<span class="sy0">[</span><span class="re2">iminus</span><span class="sy0">][</span><span class="re2">jminus</span><span class="sy0">]</span> +<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; grid<span class="sy0">[</span><span class="re2">iminus</span><span class="sy0">][</span><span class="re2">j</span><span class="sy0">]</span> +<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; grid<span class="sy0">[</span><span class="re2">iminus</span><span class="sy0">][</span><span class="re2">jplus</span><span class="sy0">]</span> +<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; grid<span class="sy0">[</span><span class="re2">i</span><span class="sy0">][</span><span class="re2">jminus</span><span class="sy0">]</span> +<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; grid<span class="sy0">[</span><span class="re2">i</span><span class="sy0">][</span><span class="re2">jplus</span><span class="sy0">]</span> +<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; grid<span class="sy0">[</span><span class="re2">iplus</span><span class="sy0">][</span><span class="re2">jminus</span><span class="sy0">]</span> +<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; grid<span class="sy0">[</span><span class="re2">iplus</span><span class="sy0">][</span><span class="re2">j</span><span class="sy0">]</span> +<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; grid<span class="sy0">[</span><span class="re2">iplus</span><span class="sy0">][</span><span class="re2">jplus</span><span class="sy0">]</span><br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (grid<span class="sy0">[</span><span class="re2">i</span><span class="sy0">][</span><span class="re2">j</span><span class="sy0">]</span> == 1 and (neighbourcount == 2 or neighbourcount == 3)) or (grid<span class="sy0">[</span><span class="re2">i</span><span class="sy0">][</span><span class="re2">j</span><span class="sy0">]</span> == 0 and neighbourcount == 3) then<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; temp<span class="sy0">[</span><span class="re2">i</span><span class="sy0">][</span><span class="re2">j</span><span class="sy0">]</span> = 1<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; temp<span class="sy0">[</span><span class="re2">i</span><span class="sy0">][</span><span class="re2">j</span><span class="sy0">]</span> = 0<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; end<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; return temp<br>
                                                    &nbsp; &nbsp; end<br>
                                                    &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; function display(grid)<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; local gridsize = #grid<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; for i = 1, gridsize do<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for j = 1, gridsize do<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex.sprint(<span class="sy0">[</span><span class="re2">[<span class="re12">\node</span>[cellframe</span><span class="sy0">]</span> at (<span class="sy0">]]</span>)<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex.sprint((i - 1) * 5)<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex.sprint(<span class="sy0">[</span><span class="re2">[mm,</span><span class="sy0">]]</span>)<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex.sprint(-((j - 1) * 5))<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex.sprint(<span class="sy0">[</span><span class="sy0"><span class="re2">[mm){0};</span></span><span class="sy0">]]</span>)<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if grid<span class="sy0">[</span><span class="re2">j</span><span class="sy0">][</span><span class="re2">i</span><span class="sy0">]</span> == 1 then<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex.sprint(<span class="sy0">[</span><span class="re2">[<span class="re12">\node</span>[alivecell</span><span class="sy0">]</span> at (<span class="sy0">]]</span>)<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex.sprint((i - 1) * 5)<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex.sprint(<span class="sy0">[</span><span class="re2">[mm,</span><span class="sy0">]]</span>)<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex.sprint(-((j - 1) * 5))<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex.sprint(<span class="sy0">[</span><span class="sy0"><span class="re2">[mm){1};</span></span><span class="sy0">]]</span>)<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; end<br>
                                                    &nbsp; &nbsp; end<br>
                                                    &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; function animate(grid, iterations)<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; for i = 1, iterations - 1 do<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; display(grid)<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex.sprint(<span class="sy0">[</span><span class="re2">[<span class="re12">\newframe</span></span><span class="sy0">]]</span>)<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; grid = evolve(grid)<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; end<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; display(grid)<br>
                                                    &nbsp; &nbsp; end<br>
                                                    &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; function frames(grid, iterations)<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; for i = 1, iterations - 1 do<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex.sprint(<span class="sy0">[</span><span class="re2">[<span class="re8">\begin</span><span class="sy0">{</span><span class="re7">tikzpicture</span>}</span><span class="sy0">]]</span>)<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; display(grid)<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; grid = evolve(grid)<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex.sprint(<span class="sy0">[</span><span class="re2">[<span class="re8">\end</span><span class="sy0">{</span><span class="re7">tikzpicture</span>}</span><span class="sy0">]]</span>)<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex.sprint(<span class="sy0">[</span><span class="re2">[<span class="re12">\clearpage</span></span><span class="sy0">]]</span>)<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; end<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp;<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; tex.sprint(<span class="sy0">[</span><span class="re2">[<span class="re8">\begin</span><span class="sy0">{</span><span class="re7">tikzpicture</span>}</span><span class="sy0">]]</span>)<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; display(grid)<br>
                                                    &nbsp; &nbsp; &nbsp; &nbsp; tex.sprint(<span class="sy0">[</span><span class="re2">[<span class="re8">\end</span><span class="sy0">{</span><span class="re7">tikzpicture</span>}</span><span class="sy0">]]</span>)<br>
                                                    &nbsp; &nbsp; end<br>
                                                    <span class="re8">\end</span><span class="sy0">{</span><span class="re7">luacode*</span><span class="sy0">}</span><br>
                                                    <br>
                                                    <span class="re12">\noindent</span><span class="re8">\begin</span><span class="sy0">{</span><span class="re7">animateinline</span><span class="sy0">}[</span><span class="re2">autoplay,loop,<br>
                                                    begin=<span class="sy0">{</span><span class="re8">\begin</span><span class="sy0">{</span><span class="re7">tikzpicture</span>}[scale=1</span><span class="sy0">]}</span>,<br>
                                                    end=<span class="sy0">{</span><span class="re8">\end</span><span class="sy0">{</span><span class="re7">tikzpicture</span><span class="sy0">}}]{</span>5<span class="sy0">}</span><br>
                                                    &nbsp; &nbsp; <span class="re12">\luadirect</span><span class="sy0">{</span>animate(grid, iterations)<span class="sy0">}</span><br>
                                                    <span class="re8">\end</span><span class="sy0">{</span><span class="re7">animateinline</span></span><span class="sy0">}</span><br>
                                                    <span class="co1">%\noindent\luadirect{frames(grid, iterations)}</span><br>
                                                    <br>
                                                    <span class="re8">\end</span><span class="sy0">{</span><span class="re9"><span class="re7">document</span></span><span class="sy0">}</span>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <p>
                                <em>Note:</em> More information about my implementation is available <a href="https://tex.stackexchange.com/a/145463">in my answer on TeX.SX</a>.
                            </p>
                            <p>
                                It turned out to be pretty easy to do this in LuaTeX, however I struggled with the modulus operator (<code class="codecolorer text dawn"><span class="text">%</span></code>) and printing from Lua to TeX. Still it became a pretty nice solution, I think.
                            </p>
                            <p>
                                Last but not least I’m very grateful for the answers on my question. Here are some nice outputs of <a href="https://tex.stackexchange.com/a/145331">jfbu’s</a> and <a href="https://tex.stackexchange.com/a/145336">JLDiaz’s</a> answers (if you have a <a href="https://tex.stackexchange.com/" title="TeX - LaTeX Stack Exchange">TeX.SX</a> registration then please post an upvote on them because they are really great):
                            </p>
                            <p>
                                <img src="../../wp-content/uploads/2013/11/jfbu_1.gif" alt="Gosper glider gun" width="705" height="374" class="alignnone size-full wp-image-8509"><br>
                                <img src="../../wp-content/uploads/2013/11/jfbu_2.gif" alt="Glider" width="197" height="286" class="alignnone size-full wp-image-8510">&nbsp;<img src="../../wp-content/uploads/2013/11/jldiaz_1.gif" alt="Glider" width="239" height="226" class="alignnone size-full wp-image-8512"><br>
                                <img src="../../wp-content/uploads/2013/11/jldiaz_2.gif" alt="Gosper glider gun" width="456" height="238" class="alignnone size-full wp-image-8513">
                            </p>
                            <div class="post_tags clear">
                                <ul>
                                    <li>
                                        <a href="index.html" rel="tag">TeX/LaTeX</a>
                                    </li>
                                    <li>
                                        <a href="../tipografia/index.html" rel="tag">tipográfia</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="clear post-7449 post type-post status-publish format-standard hentry category-gizmo category-hardver category-szoftver tag-raspberry-pi tag-tex-latex" id="post_7449">
                        <div class="post_meta">
                            <h2>
                                <a href="../../index.html%3Fp=7449.html" title="Raspberry Pi-on mért OpenTTD szerver teljesítményadatok" rel="bookmark">Raspberry Pi-on mért OpenTTD szerver teljesítményadatok</a>
                            </h2>
                            <div class="post_data">
                                <div class="post_author">
                                    Írta: <a href="../../index.html" title="szantaii honlapjának megtekintése" rel="author external">szantaii</a>
                                </div>
                                <div class="post_date">
                                    2012. szeptember 24. 7:55
                                </div>
                                <div class="post_categories">
                                    <a href="../../category/gizmo/index.html" rel="category tag">gizmó</a>, <a href="../../category/hardver/index.html" rel="category tag">hardver</a>, <a href="../../category/szoftver/index.html" rel="category tag">szoftver</a>
                                </div>
                            </div>
                        </div>
                        <div class="post_content">
                            <p>
                                Alant látható a Raspberry Pi-on futtatott OpenTTD szerver teljesítményadatai (processzor-, és memóriahasználat). Az ábrából kiderül, hogy egész jól bírta a RasPi a terhelést.
                            </p>
                            <p>
                                A képre kattintva pdf-ben is megtekinthető a diagram, lent pedig a kirajzoló LaTeX fájlt lehet letölteni.
                            </p>
                            <p>
                                <a href="../../wp-content/uploads/2012/09/opentdd_szerver_teljesitmeny.pdf"><img src="../../wp-content/uploads/2012/09/openttd_szerver_teljesitmeny.png" alt="" title="Raspberry Pi-on mért OpenTTD szerver teljesítményadatok" width="705" height="455" class="alignnone size-full wp-image-7451" srcset="../../wp-content/uploads/2012/09/openttd_szerver_teljesitmeny.png 705w, ../../wp-content/uploads/2012/09/openttd_szerver_teljesitmeny-225x145.png 225w, ../../wp-content/uploads/2012/09/openttd_szerver_teljesitmeny-350x225.png 350w" sizes="(max-width: 705px) 100vw, 705px"></a>
                            </p>
                            <ul>
                                <li>
                                    <a href="../../wp-content/uploads/2012/09/openttd_szerver_teljesitmeny.tex_.tar.gz">openttd_szerver_teljesitmeny.tex.tar.gz</a>
                                </li>
                            </ul>
                            <div class="post_tags clear">
                                <ul>
                                    <li>
                                        <a href="../raspberry-pi/index.html" rel="tag">Raspberry Pi</a>
                                    </li>
                                    <li>
                                        <a href="index.html" rel="tag">TeX/LaTeX</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="clear post-6814 post type-post status-publish format-standard hentry category-alkotunk category-munka category-szoftver tag-tex-latex" id="post_6814">
                        <div class="post_meta">
                            <h2>
                                <a href="../../index.html%3Fp=6814.html" title="Makefile for Large LaTeX Projects" rel="bookmark">Makefile for Large LaTeX Projects</a>
                            </h2>
                            <div class="post_data">
                                <div class="post_author">
                                    Írta: <a href="../../index.html" title="szantaii honlapjának megtekintése" rel="author external">szantaii</a>
                                </div>
                                <div class="post_date">
                                    2012. február 4. 9:06
                                </div>
                                <div class="post_categories">
                                    <a href="../../category/alkotunk/index.html" rel="category tag">alkotunk</a>, <a href="../../category/munka/index.html" rel="category tag">munka</a>, <a href="../../category/szoftver/index.html" rel="category tag">szoftver</a>
                                </div>
                            </div>
                        </div>
                        <div class="post_content">
                            <p>
                                Using a makefile for large LaTeX projects is a real time saver if you don’t use LaTeX IDEs (e.g. <a href="https://www.xm1math.net/texmaker/">Texmaker</a>, <a href="https://www.tug.org/texworks/">TeXworks</a>). For example some of my friends have to log in to a central server, which provides the same LaTeX setup for everyone in their institution, to compile their documents. In this particular case using <em>make</em> is a <em>must do!</em> thing if you don’t want to fiddle around keeping track of which was the last command you executed or whether your pdf is up to date.
                            </p>
                            <p>
                                <em>So, what are these makefile and make things?</em>
                            </p>
                            <blockquote>
                                <p>
                                    Make is a tool which controls the generation of executables and other non-source files of a program from the program’s source files.
                                </p>
                                <p>
                                    Make gets its knowledge of how to build your program from a file called the <em>makefile</em>, which lists each of the non-source files and how to compute it from other files. When you write a program, you should write a makefile for it, so that it is possible to use Make to build and install the program.
                                </p>
                                <p>
                                    […]
                                </p>
                                <p>
                                    Make figures out automatically which files it needs to update, based on which source files have changed. It also automatically determines the proper order for updating files, in case one non-source file depends on another non-source file.
                                </p>
                            </blockquote>
                            <p>
                                <a href="https://www.gnu.org/software/make/">GNU Make</a>
                            </p>
                            <p>
                                Here is my standard makefile template for projects utilizing <em>pdflatex</em> and <em>bibtex</em> (also downloadable at the end of the post):
                            </p>
                            <div class="codecolorer-container make dawn" style="overflow:auto;white-space:nowrap;">
                                <table cellspacing="0" cellpadding="0">
                                    <tbody>
                                        <tr>
                                            <td class="line-numbers">
                                                <div>
                                                    1<br>
                                                    2<br>
                                                    3<br>
                                                    4<br>
                                                    5<br>
                                                    6<br>
                                                    7<br>
                                                    8<br>
                                                    9<br>
                                                    10<br>
                                                    11<br>
                                                    12<br>
                                                    13<br>
                                                    14<br>
                                                    15<br>
                                                    16<br>
                                                    17<br>
                                                    18<br>
                                                    19<br>
                                                    20<br>
                                                    21<br>
                                                    22<br>
                                                    23<br>
                                                    24<br>
                                                    25<br>
                                                    26<br>
                                                    27<br>
                                                    28<br>
                                                    29<br>
                                                    30<br>
                                                    31<br>
                                                    32<br>
                                                    33<br>
                                                    34<br>
                                                    35<br>
                                                    36<br>
                                                    37<br>
                                                    38<br>
                                                    39<br>
                                                    40<br>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="make codecolorer">
                                                    <span class="co1"># Makefile for my LaTeX project</span><br>
                                                    <br>
                                                    <span class="co1"># LaTeX</span><br>
                                                    LC<span class="sy0">=</span>pdflatex<br>
                                                    <br>
                                                    <span class="co1"># Bibtex</span><br>
                                                    BC<span class="sy0">=</span>bibtex<br>
                                                    <br>
                                                    <span class="co1"># The main tex file (without extension)</span><br>
                                                    MAIN<span class="sy0">=</span>main<br>
                                                    <br>
                                                    <span class="co1"># The tex files that are included in the project's main tex file</span><br>
                                                    DEPS<span class="sy0">=./</span>tex<span class="sy0">/</span>chapter1<span class="sy0">.</span>tex <span class="sy0">./</span>tex<span class="sy0">/</span>chapter2<span class="sy0">.</span>tex <span class="sy0">./</span>tex<span class="sy0">/</span>chapter3<span class="sy0">.</span>tex<br>
                                                    <br>
                                                    MIDTARGET<span class="sy0">=$</span><span class="br0">(</span><span class="re2">MAIN</span><span class="br0">)</span><span class="sy0">.</span>pdf<br>
                                                    <br>
                                                    <span class="co1"># The desired filename</span><br>
                                                    TARGET<span class="sy0">=</span>myprojectv01<span class="sy0">.</span>pdf<br>
                                                    <br>
                                                    <span class="kw2">.PHONY</span><span class="sy0">:</span> clean show all<br>
                                                    <br>
                                                    all<span class="sy0">:</span> <span class="sy0">$</span><span class="br0">(</span><span class="re2">TARGET</span><span class="br0">)</span><br>
                                                    <br>
                                                    <span class="sy0">$</span><span class="br0">(</span><span class="re2">TARGET</span><span class="br0">)</span><span class="sy0">:</span> <span class="sy0">$</span><span class="br0">(</span><span class="re2">MIDTARGET</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; cp <span class="sy0">$</span><span class="br0">(</span><span class="re2">MIDTARGET</span><span class="br0">)</span> <span class="sy0">$</span><span class="br0">(</span><span class="re2">TARGET</span><span class="br0">)</span><br>
                                                    <br>
                                                    <span class="sy0">$</span><span class="br0">(</span><span class="re2">MIDTARGET</span><span class="br0">)</span><span class="sy0">:</span> <span class="sy0">$</span><span class="br0">(</span><span class="re2">MAIN</span><span class="br0">)</span><span class="sy0">.</span>tex <span class="sy0">$</span><span class="br0">(</span><span class="re2">MAIN</span><span class="br0">)</span><span class="sy0">.</span>aux<br>
                                                    &nbsp; &nbsp; <span class="sy0">$</span><span class="br0">(</span><span class="re2">BC</span><span class="br0">)</span> <span class="sy0">$</span><span class="br0">(</span><span class="re2">MAIN</span><span class="br0">)</span><span class="sy0">.</span>aux<br>
                                                    &nbsp; &nbsp; <span class="sy0">$</span><span class="br0">(</span><span class="re2">LC</span><span class="br0">)</span> <span class="sy0">$</span><span class="br0">(</span><span class="re2">MAIN</span><span class="br0">)</span><span class="sy0">.</span>tex<br>
                                                    &nbsp; &nbsp; <span class="sy0">$</span><span class="br0">(</span><span class="re2">LC</span><span class="br0">)</span> <span class="sy0">$</span><span class="br0">(</span><span class="re2">MAIN</span><span class="br0">)</span><span class="sy0">.</span>tex<br>
                                                    <br>
                                                    <span class="sy0">$</span><span class="br0">(</span><span class="re2">MAIN</span><span class="br0">)</span><span class="sy0">.</span>aux<span class="sy0">:</span> <span class="sy0">$</span><span class="br0">(</span><span class="re2">MAIN</span><span class="br0">)</span><span class="sy0">.</span>tex <span class="sy0">$</span><span class="br0">(</span><span class="re2">DEPS</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; <span class="sy0">$</span><span class="br0">(</span><span class="re2">LC</span><span class="br0">)</span> <span class="sy0">$</span><span class="br0">(</span><span class="re2">MAIN</span><span class="br0">)</span><span class="sy0">.</span>tex<br>
                                                    <br>
                                                    show<span class="sy0">:</span> <span class="sy0">$</span><span class="br0">(</span><span class="re2">TARGET</span><span class="br0">)</span><br>
                                                    &nbsp; &nbsp; xdg<span class="sy0">-</span>open <span class="re0">$&lt;</span> <span class="sy0">&</span><br>
                                                    <br>
                                                    clean<span class="sy0">:</span><br>
                                                    &nbsp; &nbsp; rm <span class="sy0">$</span><span class="br0">(</span><span class="re2">MAIN</span><span class="br0">)</span><span class="sy0">.</span>out <span class="sy0">$</span><span class="br0">(</span><span class="re2">MAIN</span><span class="br0">)</span><span class="sy0">.</span>aux <span class="sy0">$</span><span class="br0">(</span><span class="re2">MAIN</span><span class="br0">)</span><span class="sy0">.</span>toc <span class="sy0">$</span><span class="br0">(</span><span class="re2">MAIN</span><span class="br0">)</span><span class="sy0">.</span>lof <span class="sy0">$</span><span class="br0">(</span><span class="re2">MAIN</span><span class="br0">)</span><span class="sy0">.</span>lot <span class="sy0">$</span><span class="br0">(</span><span class="re2">MAIN</span><span class="br0">)</span><span class="sy0">.</span>log \<br>
                                                    <span class="sy0">$</span><span class="br0">(</span><span class="re2">MAIN</span><span class="br0">)</span><span class="sy0">.</span>bbl <span class="sy0">$</span><span class="br0">(</span><span class="re2">MAIN</span><span class="br0">)</span><span class="sy0">.</span>blg <span class="sy0">$</span><span class="br0">(</span><span class="re2">MIDTARGET</span><span class="br0">)</span> <span class="sy0">$</span><span class="br0">(</span><span class="re2">TARGET</span><span class="br0">)</span>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <p>
                                I won’t go into the details, but if you want to complement this makefile for using <em>latex</em> instead of pdflatex then you’ll have to create another middle target for creating the dvi file. For those who’ll use this makefile in a non-X environment don’t use the <em>show</em> target beacuse <em>xdg-open</em> is meant to be used under X.
                            </p>
                            <p>
                                I think the <a href="https://www.gnu.org/software/make/manual/">GNU Make Manual</a> is detailed enough to understand what I was talking about. But feel free to <a href="#" title="Kattints egy e-mail címért!">contact me</a> if you have any questions.
                            </p>
                            <p>
                                Download: <a href="../../wp-content/uploads/2012/02/makefile.tar.gz">makefile.tar.gz</a>
                            </p>
                            <div class="post_tags clear">
                                <ul>
                                    <li>
                                        <a href="index.html" rel="tag">TeX/LaTeX</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="clear post-6748 post type-post status-publish format-standard hentry category-gizmo category-ismeretterjeszto category-munka category-szoftver tag-tex-latex tag-tipografia" id="post_6748">
                        <div class="post_meta">
                            <h2>
                                <a href="../../index.html%3Fp=6748.html" title="Néhány dolog a hyperref csomaggal kapcsolatban" rel="bookmark">Néhány dolog a hyperref csomaggal kapcsolatban</a>
                            </h2>
                            <div class="post_data">
                                <div class="post_author">
                                    Írta: <a href="../../index.html" title="szantaii honlapjának megtekintése" rel="author external">szantaii</a>
                                </div>
                                <div class="post_date">
                                    2012. január 7. 22:29
                                </div>
                                <div class="post_categories">
                                    <a href="../../category/gizmo/index.html" rel="category tag">gizmó</a>, <a href="../../category/ismeretterjeszto/index.html" rel="category tag">ismeretterjesztő</a>, <a href="../../category/munka/index.html" rel="category tag">munka</a>, <a href="../../category/szoftver/index.html" rel="category tag">szoftver</a>
                                </div>
                            </div>
                        </div>
                        <div class="post_content">
                            <p>
                                Ez azoknak szól, akik – hozzám hasonlóan – sokat szoptak már a <em>hyperref</em> csomaggal.
                            </p>
                            <p>
                                Szeptemberben volt egy alkalom, amikor fekvő A4-es méretű lappal kellett dolgoznom. Ez eddig nem ügy, amíg később rá nem jöttem, hogy kell nekem <em>hyperref</em> is. Betöltöttem hát. Ekkor borult fel minden, mert az elkészült oldal valami félig fekete, álló A4-es dokumentum lett. Alászálltam a net legmélyebb bugyraiba, ahol megtaláltam a választ a kérdésemre. Először töltsük be a <em>hyperref</em> csomagot a <em>setpagesize=false</em> opcióval és csak aztán a <em>geometry</em>-t.
                            </p>
                            <div class="codecolorer-container latex dawn" style="overflow:auto;white-space:nowrap;">
                                <table cellspacing="0" cellpadding="0">
                                    <tbody>
                                        <tr>
                                            <td class="line-numbers">
                                                <div>
                                                    1<br>
                                                    2<br>
                                                    3<br>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="latex codecolorer">
                                                    <span class="sy0">\</span><span class="kw1">documentclass</span><span class="sy0">{</span><span class="re9">memoir<span class="sy0">}</span><br>
                                                    <span class="sy0">\</span><span class="kw1">usepackage</span><span class="sy0">[</span><span class="re2">setpagesize=false, xetex</span><span class="sy0">]{</span>hyperref<span class="sy0">}</span><br>
                                                    <span class="sy0">\</span><span class="kw1">usepackage</span><span class="sy0">[</span><span class="re2">a4paper, landscape, xetex</span>]{geometry</span><span class="sy0">}</span>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <p>
                                Ma pedig nekiálltam review-olni egy egy évvel korábbi projektemet. Egy darab kommentet nem írtam hozzá, úgyhogy ezzel el is ment a napom nagy része. Aztán ugyanabba a problémába ütköztem, amibe már egy évvel ezelőtt is. Vagyis a kész PDF-ben az összes bookmarkot egyetlen láncba fűzve, nem pedig szép fát találtam. Újfent alászálltam a mélybe, és egy <a href="https://lists.debian.org/debian-tetex-maint/2005/04/msg00159.html">Debian maintenance levlistán</a> találtam meg a megoldást.
                            </p>
                            <blockquote>
                                <p>
                                    “magyar.ldf” redefines most of the essential commands<br>
                                    that also hyperref must change. A patch would have to<br>
                                    include many of hyperref/driver stuff/nameref, adopted<br>
                                    to magyar.ldf.
                                </p>
                            </blockquote>
                            <p>
                                Alatta pedig ott volt egy gyönyörű makró:
                            </p>
                            <div class="codecolorer-container latex dawn" style="overflow:auto;white-space:nowrap;">
                                <table cellspacing="0" cellpadding="0">
                                    <tbody>
                                        <tr>
                                            <td class="line-numbers">
                                                <div>
                                                    1<br>
                                                    2<br>
                                                    3<br>
                                                    4<br>
                                                    5<br>
                                                    6<br>
                                                    7<br>
                                                    8<br>
                                                    9<br>
                                                    10<br>
                                                    11<br>
                                                    12<br>
                                                    13<br>
                                                    14<br>
                                                    15<br>
                                                    16<br>
                                                    17<br>
                                                    18<br>
                                                    19<br>
                                                    20<br>
                                                    21<br>
                                                    22<br>
                                                    23<br>
                                                    24<br>
                                                    25<br>
                                                    26<br>
                                                    27<br>
                                                    28<br>
                                                    29<br>
                                                    30<br>
                                                    31<br>
                                                    32<br>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="latex codecolorer">
                                                    <span class="sy0">\</span><span class="kw1">makeatletter</span><br>
                                                    <span class="sy0">\</span><span class="kw1">let</span><span class="re12">\Hy</span>@magyar@saved@refstepcounter<span class="re12">\refstepcounter</span><br>
                                                    <span class="re12">\addto</span><span class="re12">\extrasmagyar</span><span class="sy0">{</span><span class="co1">%</span><br>
                                                    &nbsp; <span class="sy0">\</span><span class="kw1">let</span><span class="re12">\H</span>@refstepcounter<span class="re12">\refstepcounter</span><br>
                                                    &nbsp; <span class="sy0">\</span><span class="kw1">let</span><span class="re12">\refstepcounter</span><span class="re12">\Hy</span>@magyar@saved@refstepcounter<br>
                                                    &nbsp; <span class="re12">\expandafter</span><span class="sy0">\</span><span class="kw1">renewcommand</span><span class="re12">\expandafter*</span><span class="re12">\expandafter</span><span class="re11">\@ssect</span><br>
                                                    &nbsp; &nbsp; &nbsp; <span class="re12">\expandafter</span><span class="sy0">[</span><span class="re2"><span class="re12">\expandafter</span> 5<span class="re12">\expandafter</span></span><span class="sy0">]</span><span class="re12">\expandafter</span><span class="sy0">{</span><span class="co1">%</span><br>
                                                    &nbsp; &nbsp; <span class="re12">\expandafter</span><span class="sy0">\</span><span class="kw1">def</span><span class="re12">\expandafter</span><span class="re11">\@currentlabelname</span><span class="re12">\expandafter</span><span class="sy0">{</span><span class="co1">%</span><br>
                                                    &nbsp; &nbsp; &nbsp; <span class="re12">\expandafter</span> #<span class="re12">\expandafter</span> 5<span class="re12">\expandafter</span><br>
                                                    &nbsp; &nbsp; <span class="sy0">}</span><span class="co1">%</span><br>
                                                    &nbsp; &nbsp; <span class="re11">\@ssect</span><span class="sy0">{</span><span class="re9">#1}{#2}{#3}{#4}{#5</span><span class="sy0">}</span><span class="co1">%</span><br>
                                                    &nbsp; &nbsp; <span class="re12">\phantomsection</span><br>
                                                    &nbsp; <span class="sy0">}</span><span class="co1">%</span><br>
                                                    &nbsp; <span class="re12">\expandafter</span><span class="re12">\Hy</span>@magyar@patch@sect<span class="re12">\expandafter</span><span class="sy0">{</span><span class="co1">%</span><br>
                                                    &nbsp; &nbsp; <span class="re11">\@sect</span><span class="sy0">{</span><span class="re9">#1}{#2}{#3}{#4}{#5}{#6}[<span class="re2">{#7}</span>]{#8</span><span class="sy0">}</span><span class="co1">%</span><br>
                                                    &nbsp; <span class="sy0">}{</span><span class="re9">#1#2#3#4#5#6[<span class="re2">#7</span>]#8}{#2}{#7</span><span class="sy0">}</span><span class="co1">%</span><br>
                                                    <span class="sy0">}</span><br>
                                                    <span class="sy0">\</span><span class="kw1">def</span><span class="re12">\Hy</span>@magyar@patch@sect#1#2#3#4<span class="sy0">{</span><span class="co1">%</span><br>
                                                    &nbsp; <span class="sy0">\</span><span class="kw1">def</span><span class="re11">\@sect</span>#2<span class="sy0">{</span><span class="co1">%</span><br>
                                                    &nbsp; &nbsp; <span class="re12">\setcounter</span><span class="sy0">{</span><span class="re9">section@level}{#3</span><span class="sy0">}</span><span class="co1">%</span><br>
                                                    &nbsp; &nbsp; <span class="sy0">\</span><span class="kw1">def</span><span class="re11">\@currentlabelname</span><span class="sy0">{</span><span class="re9">#4</span><span class="sy0">}</span><span class="co1">%</span><br>
                                                    &nbsp; &nbsp; <span class="re12">\ifnum</span> #3&gt;<span class="re12">\c</span>@secnumdepth<br>
                                                    &nbsp; &nbsp; &nbsp; <span class="re12">\Hy</span>@GlobalStepCount<span class="re12">\Hy</span>@linkcounter<br>
                                                    &nbsp; &nbsp; &nbsp; <span class="re12">\xdef</span><span class="re11">\@currentHref</span><span class="sy0">{</span><span class="re9">section*.<span class="re12">\the</span><span class="re12">\Hy</span>@linkcounter</span><span class="sy0">}</span><span class="co1">%</span><br>
                                                    &nbsp; &nbsp; <span class="sy0">\</span><span class="kw1">fi</span><br>
                                                    &nbsp; &nbsp; #1<span class="co1">%</span><br>
                                                    &nbsp; &nbsp; <span class="re12">\ifnum</span> #3&gt;<span class="re12">\c</span>@secnumdepth<br>
                                                    &nbsp; &nbsp; &nbsp; <span class="re12">\Hy</span>@raisedlink<span class="sy0">{</span><span class="re9"><span class="re12">\hyper</span>@anchorstart<span class="sy0">{</span><span class="re11">\@currentHref</span><span class="sy0">}</span><span class="re12">\hyper</span>@anchorend</span><span class="sy0">}</span><span class="co1">%</span><br>
                                                    &nbsp; &nbsp; <span class="sy0">\</span><span class="kw1">fi</span><br>
                                                    &nbsp; <span class="sy0">}</span><span class="co1">%</span><br>
                                                    <span class="sy0">}</span><br>
                                                    <span class="sy0">\</span><span class="kw1">makeatother</span>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <p>
                                Őszintén megmondom, még nem néztem át tüzetesebben, de eddig minden gondomat megoldotta.
                            </p>
                            <div class="post_tags clear">
                                <ul>
                                    <li>
                                        <a href="index.html" rel="tag">TeX/LaTeX</a>
                                    </li>
                                    <li>
                                        <a href="../tipografia/index.html" rel="tag">tipográfia</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="clear post-6643 post type-post status-publish format-standard hentry category-alkotunk category-gizmo tag-rajz tag-tex-latex tag-tipografia" id="post_6643">
                        <div class="post_meta">
                            <h2>
                                <a href="../../index.html%3Fp=6643.html" title="TypoTux" rel="bookmark">TypoTux</a>
                            </h2>
                            <div class="post_data">
                                <div class="post_author">
                                    Írta: <a href="../../index.html" title="szantaii honlapjának megtekintése" rel="author external">szantaii</a>
                                </div>
                                <div class="post_date">
                                    2011. november 16. 21:54
                                </div>
                                <div class="post_categories">
                                    <a href="../../category/alkotunk/index.html" rel="category tag">alkotunk</a>, <a href="../../category/gizmo/index.html" rel="category tag">gizmó</a>
                                </div>
                            </div>
                        </div>
                        <div class="post_content">
                            <p>
                                This is my submission for the <a href="https://tex.stackexchange.com/a/35132">Show Off Your Skillz in TeX & Friends Contest</a> at <a href="https://tex.stackexchange.com/">TeX.sx</a>.
                            </p>
                            <p>
                                Full LaTeX source and description <del datetime="2011-11-18T14:38:37+00:00">coming soon</del> below the picture.
                            </p>
                            <p>
                                <img src="../../wp-content/uploads/2011/11/typotux.png" alt="" title="TypoTux" width="705" height="907" class="alignnone size-full wp-image-6645" srcset="../../wp-content/uploads/2011/11/typotux.png 705w, ../../wp-content/uploads/2011/11/typotux-225x289.png 225w, ../../wp-content/uploads/2011/11/typotux-350x450.png 350w" sizes="(max-width: 705px) 100vw, 705px">
                            </p>
                            <div class="codecolorer-container latex dawn" style="overflow:auto;white-space:nowrap;height:400px;">
                                <table cellspacing="0" cellpadding="0">
                                    <tbody>
                                        <tr>
                                            <td class="line-numbers">
                                                <div>
                                                    1<br>
                                                    2<br>
                                                    3<br>
                                                    4<br>
                                                    5<br>
                                                    6<br>
                                                    7<br>
                                                    8<br>
                                                    9<br>
                                                    10<br>
                                                    11<br>
                                                    12<br>
                                                    13<br>
                                                    14<br>
                                                    15<br>
                                                    16<br>
                                                    17<br>
                                                    18<br>
                                                    19<br>
                                                    20<br>
                                                    21<br>
                                                    22<br>
                                                    23<br>
                                                    24<br>
                                                    25<br>
                                                    26<br>
                                                    27<br>
                                                    28<br>
                                                    29<br>
                                                    30<br>
                                                    31<br>
                                                    32<br>
                                                    33<br>
                                                    34<br>
                                                    35<br>
                                                    36<br>
                                                    37<br>
                                                    38<br>
                                                    39<br>
                                                    40<br>
                                                    41<br>
                                                    42<br>
                                                    43<br>
                                                    44<br>
                                                    45<br>
                                                    46<br>
                                                    47<br>
                                                    48<br>
                                                    49<br>
                                                    50<br>
                                                    51<br>
                                                    52<br>
                                                    53<br>
                                                    54<br>
                                                    55<br>
                                                    56<br>
                                                    57<br>
                                                    58<br>
                                                    59<br>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="latex codecolorer">
                                                    <span class="co1">% TypoTux</span><br>
                                                    <span class="co1">% Created by szantaii</span><br>
                                                    <span class="co1">% Compiled with pdflatex using TeX Live 2011</span><br>
                                                    <span class="co1">%</span><br>
                                                    <span class="co1">% Use it as you like, but please send me an e-mail if you do.</span><br>
                                                    <br>
                                                    <span class="sy0">\</span><span class="kw1">documentclass</span><span class="sy0">[</span><span class="re2">10pt,a4paper</span><span class="sy0">]{</span><span class="re9">article</span><span class="sy0">}</span><br>
                                                    <br>
                                                    <span class="co1">% Specifying input encoding</span><br>
                                                    <span class="sy0">\</span><span class="kw1">usepackage</span><span class="sy0">[</span><span class="re2">utf8</span><span class="sy0">]{</span><span class="re9">inputenc</span><span class="sy0">}</span><br>
                                                    <br>
                                                    <span class="co1">% Using the TikZ library for drawing Tux, and clipping</span><br>
                                                    <span class="sy0">\</span><span class="kw1">usepackage</span><span class="sy0">{</span><span class="re9">tikz</span><span class="sy0">}</span><br>
                                                    <br>
                                                    <span class="co1">% Loaded for unnumbered captions</span><br>
                                                    <span class="sy0">\</span><span class="kw1">usepackage</span><span class="sy0">{</span><span class="re9">caption</span><span class="sy0">}</span><br>
                                                    <br>
                                                    <span class="co1">% For inserting lorem ipsum text</span><br>
                                                    <span class="sy0">\</span><span class="kw1">usepackage</span><span class="sy0">{</span><span class="re9">lipsum</span><span class="sy0">}</span><br>
                                                    <br>
                                                    <span class="co1">% Setting baselines smaller</span><br>
                                                    <span class="sy0">\</span><span class="kw1">setlength</span><span class="sy0">{</span><span class="re9"><span class="re12">\baselineskip</span><span class="sy0">}{</span>6pt<span class="sy0">}</span><br>
                                                    <br>
                                                    <span class="re8">\begin</span><span class="sy0">{</span><span class="re7">document</span></span><span class="sy0">}</span><br>
                                                    <br>
                                                    <span class="co1">%\lipsum[1]</span><br>
                                                    <br>
                                                    <span class="re8">\begin</span><span class="sy0">{</span><span class="re9"><span class="re7">figure</span><span class="sy0">}[</span><span class="re2">h!</span><span class="sy0">]</span><br>
                                                    <span class="sy0">\</span><span class="kw1">centering</span><br>
                                                    <span class="re8">\begin</span><span class="sy0">{</span><span class="re7">tikzpicture</span><span class="sy0">}[</span><span class="re2">y=0.80pt,x=0.80pt,yscale=-1, inner sep=0pt, outer sep=0pt,scale=0.25</span><span class="sy0">]</span><br>
                                                    <span class="re8">\begin</span><span class="sy0">{</span><span class="re7">scope</span><span class="sy0">}[</span><span class="re2">shift={(-249.6684,-294.38903)</span>}</span><span class="sy0">]</span><br>
                                                    <span class="co1">%\begin{scope}[cm={{0.55569,0.0,0.0,0.55569,(249.6684,292.4824)}}]</span><br>
                                                    <span class="re8">\begin</span><span class="sy0">{</span><span class="re9"><span class="re7">scope</span></span><span class="sy0">}</span><br>
                                                    <br>
                                                    <span class="co1">% Tux's path used for clipping</span><br>
                                                    <span class="co1">% Generated with Inkscape / https://inkscape.org/</span><br>
                                                    <span class="co1">% Using the inkscape2tikz extension / https://code.google.com/archive/p/inkscape2tikz/</span><br>
                                                    <span class="re12">\path</span><span class="sy0">[</span><span class="re2">clip</span><span class="sy0">]</span> (265.5000,1063.0000) .. controls (252.9000,1061.0000) and<br>
                                                    <span class="co1">% Tux's path used for clipping cut from here because it's too long to include.</span><br>
                                                    <span class="co1">% See link for full compilable source at the end of the post.</span><br>
                                                    &nbsp; &nbsp;<br>
                                                    <span class="co1">% Adding lorem ipsum text using TikZ nodes, and the lipsum package</span><br>
                                                    <span class="re12">\node</span><span class="sy0">[</span><span class="re2">inner sep=0,text width=10cm</span><span class="sy0">]</span> (text1) at (450,450) <span class="sy0">{</span><span class="re9"><span class="re12">\LARGE</span><span class="sy0">\</span><span class="kw1">textit</span><span class="sy0">{</span><span class="re12">\lipsum</span><span class="sy0">[</span><span class="re2">1</span><span class="sy0">]}}</span>;<br>
                                                    <span class="re12">\node</span><span class="sy0">[</span><span class="re2">inner sep=0,text width=10cm</span><span class="sy0">]</span> (text1) at (500,500) <span class="sy0">{</span><span class="re12">\LARGE</span><span class="sy0">\</span><span class="kw1">textit</span><span class="sy0">{</span><span class="re12">\lipsum</span><span class="sy0">[</span><span class="re2">2</span><span class="sy0">]}}</span>;<br>
                                                    <span class="re12">\node</span><span class="sy0">[</span><span class="re2">inner sep=0,text width=10cm</span><span class="sy0">]</span> (text1) at (450,450) <span class="sy0">{\</span><span class="kw1">textit</span><span class="sy0">{</span><span class="re12">\lipsum</span><span class="sy0">[</span><span class="re2">3-4</span><span class="sy0">]}}</span>;<br>
                                                    <span class="re12">\node</span><span class="sy0">[</span><span class="re2">inner sep=0,text width=10cm</span><span class="sy0">]</span> (text1) at (500,500) <span class="sy0">{\</span><span class="kw1">textit</span><span class="sy0">{</span><span class="re12">\lipsum</span><span class="sy0">[</span><span class="re2">5-6</span><span class="sy0">]}}</span>;<br>
                                                    <span class="re12">\node</span><span class="sy0">[</span><span class="re2">inner sep=0,text width=10cm</span><span class="sy0">]</span> (text2) at (450,450) <span class="sy0">{</span><span class="re12">\scriptsize</span><span class="sy0">\</span><span class="kw1">textit</span><span class="sy0">{</span><span class="re12">\lipsum</span><span class="sy0">[</span><span class="re2">7-11</span><span class="sy0">]}}</span>;<br>
                                                    <span class="re12">\node</span><span class="sy0">[</span><span class="re2">inner sep=0,text width=10cm</span><span class="sy0">]</span> (text2) at (475,475) <span class="sy0">{</span><span class="re12">\scriptsize</span><span class="sy0">\</span><span class="kw1">textit</span><span class="sy0">{</span><span class="re12">\lipsum</span><span class="sy0">[</span><span class="re2">12-16</span><span class="sy0">]}}</span>;<br>
                                                    <span class="re12">\node</span><span class="sy0">[</span><span class="re2">inner sep=0,text width=10cm</span><span class="sy0">]</span> (text2) at (500,500) <span class="sy0">{</span><span class="re12">\scriptsize</span><span class="sy0">\</span><span class="kw1">textit</span><span class="sy0">{</span><span class="re12">\lipsum</span><span class="sy0">[</span><span class="re2">17-21</span><span class="sy0">]}}</span>;<br>
                                                    <span class="re8">\end</span><span class="sy0">{</span><span class="re7">scope</span><span class="sy0">}</span><br>
                                                    <span class="re8">\end</span><span class="sy0">{</span><span class="re7">scope</span><span class="sy0">}</span><br>
                                                    <span class="re8">\end</span><span class="sy0">{</span><span class="re7">tikzpicture</span><span class="sy0">}</span><br>
                                                    <br>
                                                    <span class="sy0">\</span><span class="kw1">caption</span>*<span class="sy0">{</span>TypoTux<span class="sy0">}</span><br>
                                                    <span class="re8">\end</span><span class="sy0">{</span><span class="re7">figure</span></span><span class="sy0">}</span><br>
                                                    <br>
                                                    <span class="co1">%\lipsum[2]</span><br>
                                                    <br>
                                                    <span class="re8">\end</span><span class="sy0">{</span><span class="re9"><span class="re7">document</span></span><span class="sy0">}</span>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <p>
                                I have always wanted to create something like this. After I read about this contest I decided to make a Tux who’s drawn by text. I chose <a href="#">TikZ & PGF</a> for this purpose since it’s very powerful, and I used it several times before for path clipping.
                            </p>
                            <p>
                                Step-by-step description how I made this:
                            </p>
                            <ol>
                                <li>Grabbed a 2D vectorized Tux image from <a href="https://en.wikipedia.org/wiki/File%3aTux-simple.svg">Wikipedia</a>.
                                </li>
                                <li>Removed colored and unnecessary white paths from the image, resized page with <a href="https://inkscape.org/">Inkscape</a>.
                                </li>
                                <li>Saved the black & white image as a standalone TikZ image with Inkscape using the <a href="https://code.google.com/archive/p/inkscape2tikz/">inkscape2tikz</a> extension.
                                </li>
                                <li>Removed some unnecessary paths from the tex source file, changed path filling to clipping.
                                </li>
                                <li>Added nodes filled with different size of <em>lorem ipsum</em> text using the <em>lipsum</em> package. Note: this was the hardest part, because there was no other way but trying to place the text under the clip path.
                                </li>
                                <li>A little bit of fancying, and cleaning up.
                                </li>
                            </ol>
                            <p>
                                Use it for whatever you want to, but please let me know if you do. I compiled it with <em>pdflatex</em> using TeX Live 2011.
                            </p>
                            <p>
                                <a href="../../wp-content/uploads/2011/11/typotux.tex_.tar.gz">Full compilable source</a>
                            </p>
                            <div class="post_tags clear">
                                <ul>
                                    <li>
                                        <a href="../rajz/index.html" rel="tag">rajz</a>
                                    </li>
                                    <li>
                                        <a href="index.html" rel="tag">TeX/LaTeX</a>
                                    </li>
                                    <li>
                                        <a href="../tipografia/index.html" rel="tag">tipográfia</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="pagination">
                        <a href="page/2/index.html" class="nextpostslink">Előző oldal</a>
                    </div>
                </div>
                <div class="sidebar">
                    <div class="widget">
                        <h3>
                            Mit olvasunk?
                        </h3>
                        <div class="widget_body">
                            <ul>
                                <li>
                                    <a href="#">Boing Boing</a>
                                </li>
                                <li>
                                    <a href="#" title="Canonical Design">Canonical Design</a>
                                </li>
                                <li>
                                    <a href="#" title="Culture Japan – Your portal to Japan">Culture Japan</a>
                                </li>
                                <li>
                                    <a href="#" title="Engadget">Engadget</a>
                                </li>
                                <li>
                                    <a href="#" title="Fat-Pie.com :: Animation and stuff by David Firth">Fat-Pie.com</a>
                                </li>
                                <li>
                                    <a href="#" title="Free Gamer – Open Source Games">Free Gamer</a>
                                </li>
                                <li>
                                    <a href="#" title="Handras">Handras</a>
                                </li>
                                <li>
                                    <a href="#" title="Hungarian Unix Portal">Hungarian Unix Portal</a>
                                </li>
                                <li>
                                    <a href="#" title="IKEA Hackers">IKEA Hackers</a>
                                </li>
                                <li>
                                    <a href="#" title="Jupiter Broadcasting">Jupiter Broadcasting</a>
                                </li>
                                <li>
                                    <a href="#" title="Keleti Szél">Keleti Szél</a>
                                </li>
                                <li>
                                    <a href="#" title="Napirajz – Súlyosbítva azt, ami amúgy is.">Napirajz</a>
                                </li>
                                <li>
                                    <a href="#" title="plastik media">Plastik média</a>
                                </li>
                                <li>
                                    <a href="#" title="PROHARDVER! – Az Online PC Magazin">PROHARDVER!</a>
                                </li>
                                <li>
                                    <a href="#" title="Tokyo Times – Photographs from a small group of islands">Tokyo Times</a>
                                </li>
                                <li>
                                    <a href="#" title="Twitch">Twitch</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="widget">
                        <h3>
                            Kategóriák
                        </h3>
                        <div class="widget_body">
                            <ul>
                                <li class="cat-item cat-item-3">
                                    <a href="../../category/a-blog/index.html">a blog</a> (10)
                                </li>
                                <li class="cat-item cat-item-4">
                                    <a href="../../category/alkotunk/index.html">alkotunk</a> (37)
                                </li>
                                <li class="cat-item cat-item-6">
                                    <a href="../../category/animacio/index.html">animáció</a> (16)
                                </li>
                                <li class="cat-item cat-item-7">
                                    <a href="../../category/anime/index.html">anime</a> (9)
                                </li>
                                <li class="cat-item cat-item-8">
                                    <a href="../../category/apple/index.html">Apple</a> (2)
                                </li>
                                <li class="cat-item cat-item-15">
                                    <a href="../../category/film/index.html">film</a> (36)
                                </li>
                                <li class="cat-item cat-item-17">
                                    <a href="../../category/foto/index.html">fotó</a> (18)
                                </li>
                                <li class="cat-item cat-item-18">
                                    <a href="../../category/gizmo/index.html">gizmó</a> (48)
                                </li>
                                <li class="cat-item cat-item-20">
                                    <a href="../../category/hardver/index.html">hardver</a> (16)
                                </li>
                                <li class="cat-item cat-item-21">
                                    <a href="../../category/holiday/index.html">holiday</a> (3)
                                </li>
                                <li class="cat-item cat-item-36">
                                    <a href="../../category/humor/index.html">humor</a> (14)
                                </li>
                                <li class="cat-item cat-item-26">
                                    <a href="../../category/ismeretterjeszto/index.html">ismeretterjesztő</a> (31)
                                </li>
                                <li class="cat-item cat-item-28">
                                    <a href="../../category/japan/index.html">Japán</a> (22)
                                </li>
                                <li class="cat-item cat-item-29">
                                    <a href="../../category/jatek/index.html">játék</a> (35)
                                </li>
                                <li class="cat-item cat-item-34">
                                    <a href="../../category/konyv/index.html">könyv</a> (15)
                                </li>
                                <li class="cat-item cat-item-35">
                                    <a href="../../category/linux/index.html">Linux</a> (38)
                                </li>
                                <li class="cat-item cat-item-43">
                                    <a href="../../category/munka/index.html">munka</a> (8)
                                </li>
                                <li class="cat-item cat-item-44">
                                    <a href="../../category/muveszet-dizajn/index.html">művészet, dizájn</a> (34)
                                </li>
                                <li class="cat-item cat-item-46">
                                    <a href="../../category/para/index.html">para</a> (3)
                                </li>
                                <li class="cat-item cat-item-52">
                                    <a href="../../category/sport/index.html">sport</a> (3)
                                </li>
                                <li class="cat-item cat-item-54">
                                    <a href="../../category/szoftver/index.html">szoftver</a> (88)
                                </li>
                                <li class="cat-item cat-item-99">
                                    <a href="../../category/tv/index.html">TV</a> (1)
                                </li>
                                <li class="cat-item cat-item-67">
                                    <a href="../../category/void/index.html">void *</a> (22)
                                </li>
                                <li class="cat-item cat-item-68">
                                    <a href="../../category/web2/index.html">web2</a> (3)
                                </li>
                                <li class="cat-item cat-item-70">
                                    <a href="../../category/zene/index.html">zene</a> (25)
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer">
            <p class="copy">
                Minden itt található tartalomra a <a title="Creative Commons — Attribution-NonCommercial-ShareAlike 2.5 Hungary" href="#" rel="copyright">Creative<br>
                Commons 2.5</a> licencfeltételek érvényesek.
            </p>
            <p class="credits">
                Dizájn: <a href="#" title="WPSHOWER - Free wordpress themes">Wpshower</a> & <a href="#" title="Reveal this e-mail address">szantaii</a>.
            </p>
        </div>
    </body>
</html>
